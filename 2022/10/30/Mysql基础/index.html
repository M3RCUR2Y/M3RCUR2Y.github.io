<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Mysql基础 | M3RCUR2Y</title><meta name="author" content="MERCURZY"><meta name="copyright" content="MERCURZY"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="1、初识MySQL1.1、什么是数据库 数据库：DB，DataBase  概念：数据仓库，软件，安装在操作系统（windows、linux、mac…）之上  作用：存储数据，管理数据   1.2、数据库分类关系数据库：（SQL）  MySQL，Oracle，Sql Server，DB2，SQLlite 通过表和表之间、行和列之间的关系进行数据的存储  非关系型数据库：（NoSQL）Not Only">
<meta property="og:type" content="article">
<meta property="og:title" content="Mysql基础">
<meta property="og:url" content="http://example.com/2022/10/30/Mysql%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="M3RCUR2Y">
<meta property="og:description" content="1、初识MySQL1.1、什么是数据库 数据库：DB，DataBase  概念：数据仓库，软件，安装在操作系统（windows、linux、mac…）之上  作用：存储数据，管理数据   1.2、数据库分类关系数据库：（SQL）  MySQL，Oracle，Sql Server，DB2，SQLlite 通过表和表之间、行和列之间的关系进行数据的存储  非关系型数据库：（NoSQL）Not Only">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/f5094b78445019abdb82fe7be34dde42.png">
<meta property="article:published_time" content="2022-10-29T16:47:01.000Z">
<meta property="article:modified_time" content="2022-10-29T16:53:03.490Z">
<meta property="article:author" content="MERCURZY">
<meta property="article:tag" content="Mysql">
<meta property="article:tag" content="自学笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/img_convert/f5094b78445019abdb82fe7be34dde42.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/10/30/Mysql%E5%9F%BA%E7%A1%80/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Mysql基础',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-10-30 00:53:03'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/bgColor.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="M3RCUR2Y" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://img-blog.csdnimg.cn/img_convert/24c7fae59b92b7310428f816c7bec119.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://img-blog.csdnimg.cn/img_convert/f5094b78445019abdb82fe7be34dde42.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">M3RCUR2Y</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Mysql基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-29T16:47:01.000Z" title="发表于 2022-10-30 00:47:01">2022-10-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-29T16:53:03.490Z" title="更新于 2022-10-30 00:53:03">2022-10-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">11.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>41分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Mysql基础"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="1、初识MySQL"><a href="#1、初识MySQL" class="headerlink" title="1、初识MySQL"></a>1、初识MySQL</h1><h2 id="1-1、什么是数据库"><a href="#1-1、什么是数据库" class="headerlink" title="1.1、什么是数据库"></a>1.1、什么是数据库</h2><ul>
<li><p>数据库：DB，DataBase</p>
</li>
<li><p>概念：数据仓库，软件，安装在操作系统（windows、linux、mac…）之上</p>
</li>
<li><p>作用：存储数据，管理数据</p>
</li>
</ul>
<h2 id="1-2、数据库分类"><a href="#1-2、数据库分类" class="headerlink" title="1.2、数据库分类"></a>1.2、数据库分类</h2><p><strong>关系数据库：</strong>（SQL）</p>
<ul>
<li>MySQL，Oracle，Sql Server，DB2，SQLlite</li>
<li>通过表和表之间、行和列之间的关系进行数据的存储</li>
</ul>
<p><strong>非关系型数据库：</strong>（NoSQL）Not Only SQL</p>
<ul>
<li>Redis，MongDB</li>
<li>对象存储，通过对象的自身属性来决定</li>
</ul>
<p><strong><font color='red'>DBMS（数据库管理系统）：</font></strong></p>
<ul>
<li><p>数据库管理软件，科学有效地管理我们的数据。维护数据</p>
</li>
<li><p>MySQL是数据库管理系统</p>
</li>
</ul>
<h2 id="1-3、MySQL简介"><a href="#1-3、MySQL简介" class="headerlink" title="1.3、MySQL简介"></a>1.3、MySQL简介</h2><p>MySQL<strong>是一个关系型数据库</strong></p>
<p>前：瑞典MySQL AB公司</p>
<p>现：属于Oracle旗下产品</p>
<p>MySQL是最好的 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/RDBMS/1048260">RDBMS</a> (Relational Database Management System，关系数据库管理系统) 应用软件之一。</p>
<p>开源的数据库软件</p>
<p>体积小、速度快、总体拥有成本低</p>
<p>中小型网站（或者大型网站），可用<strong>集群</strong></p>
<h2 id="1-4、连接数据库"><a href="#1-4、连接数据库" class="headerlink" title="1.4、连接数据库"></a>1.4、连接数据库</h2><p>命令行连接</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql <span class="operator">-</span>u root <span class="operator">-</span>p <span class="comment">-- 连接数据库</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> mysql.user <span class="keyword">set</span> authentication_string<span class="operator">=</span>password(<span class="string">&#x27;123456&#x27;</span>)<span class="keyword">where</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span> <span class="keyword">and</span> Host <span class="operator">=</span> <span class="string">&#x27;localhost&#x27;</span>; <span class="comment">-- 修改用户密码</span></span><br><span class="line"></span><br><span class="line">flush privileges; <span class="comment">-- 刷新权限</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">-- 所有语句都用分号“；”结尾</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> databases; <span class="comment">-- 查看所有的数据库</span></span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> use school <span class="comment">-- 切换数据库 use 数据库名</span></span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> tables; <span class="comment">-- 查看数据库中所有的表</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">describe</span> student; <span class="comment">-- 显示数据库中所有表的信息</span></span><br><span class="line"></span><br><span class="line">creat database westos; <span class="comment">-- 创建一个数据库</span></span><br><span class="line"></span><br><span class="line">exit; <span class="comment">-- 退出连接</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 单行注释（SQL本来的注释）</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">SQl多行注释</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<p><strong>数据库语言</strong> CRUD增删改查</p>
<ul>
<li>DDL 定义</li>
<li>DML 操作</li>
<li>DQL 查询</li>
<li>DCL 控制</li>
</ul>
<h1 id="2、操作数据库"><a href="#2、操作数据库" class="headerlink" title="2、操作数据库"></a>2、操作数据库</h1><table>
<thead>
<tr>
<th><strong>名称</strong></th>
<th><strong>解释</strong></th>
<th align="left"><strong>命令</strong></th>
</tr>
</thead>
<tbody><tr>
<td>DDL（数据定义语言）<br />Data Definition Language</td>
<td>定义和管理数据对象，如：数据库、数据表</td>
<td align="left">CREATE、DROP、ALTER</td>
</tr>
<tr>
<td>DML（数据操作语言）<br />Data Manipulation Language</td>
<td>用于操作数据库对象中包含的数据</td>
<td align="left">INSERT、UPDATE、DELETE</td>
</tr>
<tr>
<td>DQL（数据查询语言）<br />Data Query Language</td>
<td>用于查询数据库数据</td>
<td align="left">SELECT（重点）</td>
</tr>
<tr>
<td>DCL（数据控制语言）<br />Data Control Language</td>
<td>用于管理数据库的语言，包括管理权限和数据更改</td>
<td align="left">GRANT、commit、rollback</td>
</tr>
</tbody></table>
<h2 id="2-1、操作数据库（了解）"><a href="#2-1、操作数据库（了解）" class="headerlink" title="2.1、操作数据库（了解）"></a>2.1、操作数据库（了解）</h2><p>1.创建数据库</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> SCHEMA [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] 数据库名</span><br></pre></td></tr></table></figure>

<p>2.删除数据库</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE [IF <span class="keyword">EXISTS</span>] 数据库名</span><br></pre></td></tr></table></figure>

<p>3.查看数据库</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> DATABASES	<span class="comment">-- 查看所有的数据库</span></span><br></pre></td></tr></table></figure>

<p>4.使用数据库</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">USE 数据库名</span><br></pre></td></tr></table></figure>

<p><strong>学习方法：</strong></p>
<ul>
<li>对照SQLyog工具自动生成的语句学习</li>
<li>固定语法中的单词需要记忆（SELECT）</li>
</ul>
<h2 id="2-2、数据库的列类型"><a href="#2-2、数据库的列类型" class="headerlink" title="2.2、数据库的列类型"></a>2.2、数据库的列类型</h2><blockquote>
<p>数值</p>
</blockquote>
<ul>
<li>tinyint	十分小的数据	1个字节</li>
<li>smallint	较小的数据	2个字节</li>
<li>mediumint	中等大小的数据	3个字节</li>
<li><strong>int	标准的整数	4个字节</strong></li>
<li>bigint	较大的数据	8个字节</li>
<li>float	浮点数（单）	4个字节</li>
<li>double	浮点数（双）	8个字节	（考虑精度问题）</li>
<li><u>decimal	字符串形式的浮点数	金融相关的计算，一般使用decimal</u></li>
</ul>
<blockquote>
<p>字符串</p>
</blockquote>
<ul>
<li>char	字符串，固定大小	0-255</li>
<li><strong>varchar	可变字符串	0-65535	常用的变量</strong>（相当于Java中的String）</li>
<li>tinytext	微型文本	2^8-1</li>
<li><strong>text	文本串	2^16-1	保存大文本</strong></li>
</ul>
<blockquote>
<p>时间和日期</p>
</blockquote>
<ul>
<li>date	YYYY-MM-DD	日期格式</li>
<li>time	HH:mm:ss 	时间格式</li>
<li><strong>datetime	YYYY-MM-DD HH:mm:ss	最常用的时间格式</strong></li>
<li><strong>timestamp	时间戳，	1970.1.1到现在的毫秒数！</strong></li>
<li>year	年份表示</li>
</ul>
<blockquote>
<p>NULL</p>
</blockquote>
<ul>
<li>没有值，位置</li>
<li><font color='red'>注意！不要使用NULL进行运算，结果必定为NULL</font></li>
</ul>
<h2 id="2-3、数据库的字段属性（重点）"><a href="#2-3、数据库的字段属性（重点）" class="headerlink" title="2.3、数据库的字段属性（重点）"></a>2.3、数据库的字段属性（重点）</h2><p><font color='red'>Unsigned：</font></p>
<ul>
<li>无符号的整数</li>
<li>声明了该列不能声明为负数</li>
</ul>
<p><font color='red'>Zerofill：</font></p>
<ul>
<li>0填充的</li>
<li>不足的位数，使用0来填充<ul>
<li>eg: int(3)，5—&gt;005</li>
</ul>
</li>
</ul>
<p><font color='red'>Auto Increment（自增）：</font> </p>
<ul>
<li>自动在上一条记录的基础上+1（默认）</li>
<li>通常用来设计唯一的主键（比如 index）</li>
<li>可以自定义设计主键自增的起始值和步长</li>
</ul>
<p><font color='red'>Not Null（非空）：</font></p>
<ul>
<li>假设设置为Not Null，如果不赋值，就会报错</li>
<li>Null，如果不填写值，默认为null</li>
</ul>
<p><font color='red'>Default（默认）：</font></p>
<ul>
<li>设置默认的值</li>
<li>如果不指定该列的值，则会有默认值</li>
</ul>
<h2 id="2-4、创建数据库表（重点）"><a href="#2-4、创建数据库表（重点）" class="headerlink" title="2.4、创建数据库表（重点）"></a>2.4、创建数据库表（重点）</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 目标：创建一个school数据库</span></span><br><span class="line"><span class="comment">-- 创建学生表（列，字段）使用SQL创建</span></span><br><span class="line"><span class="comment">-- 学号int,登陆密码varchar(20),姓名，性别varchar(2),出生日期(datatime),家庭住址,邮箱(email)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 注意点：使用英文括号(),表的 名称和字段 尽量使用反引号``括起来</span></span><br><span class="line"><span class="comment">-- 字符串使用 单引号&#x27;&#x27;括起来</span></span><br><span class="line"><span class="comment">-- 所有的语句后面加逗号, 最后一句不用加</span></span><br><span class="line"><span class="comment">-- PRIMARY KEY（主键），一般一个表只有唯一一个主键</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `student`(</span><br><span class="line">	`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT<span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span><span class="string">&#x27;匿名&#x27;</span> COMMENT<span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">	`pwd` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span><span class="string">&#x27;123456&#x27;</span> COMMENT<span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">	`sex` <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span><span class="string">&#x27;女&#x27;</span> COMMENT<span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">	`birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT<span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">	`address` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT<span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">	`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT<span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br></pre></td></tr></table></figure>



<p>格式</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>]<span class="string">&#x27;表名&#x27;</span>(</span><br><span class="line">	<span class="string">&#x27;字段名&#x27;</span>列类型[属性][索引][注释],</span><br><span class="line">    <span class="string">&#x27;字段名&#x27;</span>列类型[属性][索引][注释],</span><br><span class="line">	<span class="string">&#x27;字段名&#x27;</span>列类型[属性][索引][注释],</span><br><span class="line">	......</span><br><span class="line">    <span class="string">&#x27;字段名&#x27;</span>列类型[属性][索引][注释]	<span class="comment">-- 最后一句不需要逗号</span></span><br><span class="line">)[表类型][字符集设置][注释]</span><br></pre></td></tr></table></figure>



<p>常用命令</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> DATABASE `school` <span class="comment">-- 查看创建数据库的语句</span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` <span class="comment">-- 查看创建表的语句</span></span><br><span class="line"><span class="keyword">DESC</span> school <span class="comment">-- 显示的表的结构</span></span><br></pre></td></tr></table></figure>



<h2 id="2-5数据表的类型"><a href="#2-5数据表的类型" class="headerlink" title="2.5数据表的类型"></a>2.5数据表的类型</h2><p>MySQL的数据表的类型 : <strong>MyISAM</strong> , <strong>InnoDB</strong> , HEAP , BOB , CSV等…</p>
<p>常见的 MyISAM 与 InnoDB 类型：</p>
<table>
<thead>
<tr>
<th></th>
<th>MyISAM</th>
<th>InnoDB</th>
</tr>
</thead>
<tbody><tr>
<td>事务支持</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>数据行锁定</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>外键约束</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>全文索引</td>
<td>支持</td>
<td>不支持</td>
</tr>
<tr>
<td>表空间大小</td>
<td>较小</td>
<td>较大，约为两倍</td>
</tr>
</tbody></table>
<p>适用场合：</p>
<ul>
<li>适用 MyISAM : 节约空间，响应较快</li>
<li>适用 InnoDB : 安全性 , 事务处理，多用户操作数据表</li>
</ul>
<blockquote>
<p>数据表的存储位置</p>
</blockquote>
<p>MySQL数据表以文件方式存放在磁盘中</p>
<ul>
<li>包括表文件 , 数据文件 , 以及数据库的选项文件</li>
<li>位置 : Mysql安装目录\data\下存放数据表 . 目录名对应数据库名 , 该目录下文件名对应数据表 .</li>
</ul>
<p>注意 :</p>
<ul>
<li>frm – 表结构定义文件</li>
<li>MYD – 数据文件 ( data )</li>
<li>MYI – 索引文件 ( index )</li>
<li>InnoDB类型数据表只有一个 *.frm文件 , 以及上一级目录的ibdata1文件</li>
<li>MyISAM类型数据表对应三个文件</li>
</ul>
<blockquote>
<p>设置数据表字符集编码</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">CHARSET <span class="operator">=</span> utf8</span><br></pre></td></tr></table></figure>

<p>如果不设置，MySQL使用默认字符集编码（不支持中文！）</p>
<p>MySQL默认编码是Latin1，不支持中文</p>
<h2 id="2-6、修改数据库"><a href="#2-6、修改数据库" class="headerlink" title="2.6、修改数据库"></a>2.6、修改数据库</h2><blockquote>
<p>修改表 ( ALTER TABLE )</p>
</blockquote>
<p><strong>修改表名：</strong>ALTER TABLE 旧表名 RENAME AS 新表名</p>
<p><strong>添加字段</strong> ：ALTER TABLE 表名 ADD字段名 列属性[属性]</p>
<p><strong>修改字段 :</strong></p>
<ul>
<li>ALTER TABLE 表名 MODIFY 字段名 列类型[属性]</li>
<li>ALTER TABLE 表名 CHANGE 旧字段名 新字段名 列属性[属性]</li>
</ul>
<p><strong>删除字段 :</strong>  ALTER TABLE 表名 DROP 字段名</p>
<blockquote>
<p><strong>删除数据表</strong></p>
</blockquote>
<p>语法：DROP TABLE [IF EXISTS] 表名</p>
<ul>
<li>IF EXISTS为可选 , 判断是否存在该数据表</li>
<li>如删除不存在的数据表会抛出错误</li>
</ul>
<p><strong>eg:</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 修改数据库(alter table)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改表名</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> university RENAME <span class="keyword">AS</span> school</span><br><span class="line"><span class="comment">-- 增加表的字段</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> university <span class="keyword">ADD</span> age <span class="type">INT</span>(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改表的字段（重命名、修改约束）</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> school MODIFY age <span class="type">VARCHAR</span>(<span class="number">11</span>)<span class="comment">-- 修改约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> school CHANGE age age1 <span class="type">INT</span>(<span class="number">3</span>)<span class="comment">-- 字段重命名</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除表的字段</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> school <span class="keyword">DROP</span> age1</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除表</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> teacher</span><br></pre></td></tr></table></figure>



<p><strong>所有创建和删除操作尽量加上判断，以免报错！！！</strong></p>
<blockquote>
<p>其他</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 可用反引号（`）为标识符（库名、表名、字段名、索引、别名）包裹，以避免与关键字重名！中文也可以作为标识符！</span><br><span class="line"> </span><br><span class="line"><span class="number">2.</span> 每个库目录存在一个保存当前数据库的选项文件db.opt。</span><br><span class="line"> </span><br><span class="line"><span class="number">3.</span> 注释：</span><br><span class="line">    单行注释 # 注释内容</span><br><span class="line">    多行注释 <span class="comment">/* 注释内容 */</span></span><br><span class="line">    单行注释 <span class="comment">-- 注释内容        (标准SQL注释风格，要求双破折号后加一空格符（空格、TAB、换行等）)</span></span><br><span class="line">    </span><br><span class="line"><span class="number">4.</span> 模式通配符：</span><br><span class="line">    _    任意单个字符</span><br><span class="line">    <span class="operator">%</span>    任意多个字符，甚至包括零字符</span><br><span class="line">    单引号需要进行转义 \<span class="string">&#x27;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">5. CMD命令行内的语句结束符可以为 &quot;;&quot;, &quot;\G&quot;, &quot;\g&quot;，仅影响显示结果。其他地方还是用分号结束。delimiter 可修改当前对话的语句结束符。</span></span><br><span class="line"><span class="string">6. SQL对大小写不敏感 （关键字）</span></span><br><span class="line"><span class="string">7. 清除已有语句：\c</span></span><br></pre></td></tr></table></figure>





<h1 id="三、MySQL数据管理"><a href="#三、MySQL数据管理" class="headerlink" title="三、MySQL数据管理"></a>三、MySQL数据管理</h1><h2 id="3-1、外键（了解）"><a href="#3-1、外键（了解）" class="headerlink" title="3.1、外键（了解）"></a>3.1、外键（了解）</h2><blockquote>
<p>外键概念</p>
</blockquote>
<p>如果公共关键字在一个关系中是主关键字，那么这个公共关键字被称为另一个关系的外键。由此可见，外键表示了两个关系之间的相关联系。</p>
<ul>
<li><p><strong>主表</strong>（父表）：</p>
<p>在数据库中建立的表格即Table，其中存在<a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=%E4%B8%BB%E9%94%AE&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao">主键</a>(primary key)用于与其它表相关联，并且作为在主表中的唯一性标识</p>
</li>
<li><p><strong>从表</strong>（子表）：</p>
<p>以主表的<a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=%E4%B8%BB%E9%94%AE&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao">主键</a>（primary key）值为<a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=%E5%A4%96%E9%94%AE&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao">外键</a> (Foreign Key)的表，可以通过<a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=%E5%A4%96%E9%94%AE&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao">外键</a>与主表进行关联查询。从表与主表通过<a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=%E5%A4%96%E9%94%AE&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao">外键</a>进行关联查询。</p>
</li>
<li><p><strong>关系及用法概述：</strong></p>
<p>从表数据依赖于主表，一般最后查询数据时把主表与从表进行关联查询。</p>
</li>
<li><p><strong>外键作用：</strong></p>
<p>保持数据<strong>一致性</strong>，<strong>完整性</strong>，主要目的是控制存储在外键表中的数据，即<strong>约束</strong>。使两张表形成关联，外键只能引用外表中的列的值或使用空值。</p>
</li>
</ul>
<blockquote>
<p>方式一：在创建表的时候，增加约束（麻烦，比较复杂）</p>
</blockquote>
<p>删除有外键关系的表（主表和从表）的时候，必须先删除从表（引用方），再删除主表（被引用方	）</p>
<blockquote>
<p>方式二：创建表成功后，添加外键约束</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `grade`( </span><br><span class="line">	`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;年级id&#x27;</span>, </span><br><span class="line">	`gradename` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级名称&#x27;</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY (`gradeid`) </span><br><span class="line">  )ENGINE <span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8; </span><br><span class="line"><span class="comment">-- 学生表的gradeid字段，引用年级表的gradeid字段</span></span><br><span class="line"><span class="comment">-- 定义外键key</span></span><br><span class="line"><span class="comment">-- 给外键添加约束（执行引用） reference 引用</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `student`(</span><br><span class="line">	`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT<span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">	`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span><span class="string">&#x27;匿名&#x27;</span> COMMENT<span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">	`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT<span class="string">&#x27;学生的年级&#x27;</span>,</span><br><span class="line">	`pwd` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span><span class="string">&#x27;123456&#x27;</span> COMMENT<span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">	`sex` <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span><span class="string">&#x27;女&#x27;</span> COMMENT<span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">	`birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT<span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">	`address` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT<span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">	`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT<span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ↑创建表时没有外键关系</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `student`</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> `FK_gradeid` <span class="keyword">FOREIGN</span> KEY(`gradeid`) <span class="keyword">REFERENCES</span> `grade`(`gradeid`);</span><br><span class="line"><span class="comment">-- ALTER TABLE</span></span><br><span class="line"><span class="comment">--`从表` add constraint 约束名:通常为FK_键名 FOREIGN KEY `作为外键的列` references `主表`（`引用字段名`）;</span></span><br></pre></td></tr></table></figure>

<p>以上的操作都是物理外键，数据库级别的外键，不建议使用（避免数据库过多造成困扰）</p>
<p><strong><font color='red'>最佳实践：</font></strong></p>
<ul>
<li>数据库就是单纯的表，只用来存数据，只有行（数据）和列（字段）</li>
<li>使用多张表的数据、使用外键时（用程序去实现）</li>
</ul>
<h2 id="3-2、DML语言"><a href="#3-2、DML语言" class="headerlink" title="3.2、DML语言"></a>3.2、DML语言</h2><p>Data Manipulation Language</p>
<p><strong>数据库意义 ：</strong> 数据存储、数据管理</p>
<p><strong>管理数据库数据方法：</strong></p>
<ul>
<li><p>通过SQLyog等管理工具管理数据库数据</p>
</li>
<li><p>通过<strong>DML语句</strong>管理数据库数据</p>
</li>
</ul>
<p><strong>DML语言：</strong>数据操作语言</p>
<p>用于操作数据库对象中所包含的数据，包括 :</p>
<ul>
<li>INSERT (添加数据语句)</li>
<li>UPDATE (更新数据语句)</li>
<li>DELETE (删除数据语句)</li>
</ul>
<h2 id="3-3、添加-insert"><a href="#3-3、添加-insert" class="headerlink" title="3.3、添加(insert)"></a>3.3、添加(insert)</h2><p><strong>语法：</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名[(字段<span class="number">1</span>,字段<span class="number">2</span>,字段<span class="number">3</span>,...)] <span class="keyword">VALUES</span>(<span class="string">&#x27;值1&#x27;</span>,...),(<span class="string">&#x27;值2&#x27;</span>,...),(<span class="string">&#x27;值3&#x27;</span>,...)...</span><br></pre></td></tr></table></figure>

<p><font color='red'><strong>注意：</strong></font></p>
<ul>
<li><p>字段值之间用 英文逗号 隔开</p>
</li>
<li><p>‘字段1，字段2’ 的部分可以省略，但添加的值必须和 <u>表结构、数据列</u> 的 <u>顺序、数量</u> 相对应、数量一致</p>
</li>
<li><p>可以一次插入多条数据，用英文逗号隔开</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 使用语句如何增加语句</span></span><br><span class="line"><span class="comment">-- 语法 : INSERT INTO 表名[(字段1,字段2,字段3,...)] VALUES(&#x27;值1&#x27;,&#x27;值2&#x27;,&#x27;值3&#x27;)</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade(gradename) <span class="keyword">VALUES</span> (<span class="string">&#x27;大一&#x27;</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 主键自增,能否省略?</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade <span class="keyword">VALUES</span> (<span class="string">&#x27;大二&#x27;</span>);</span><br><span class="line"><span class="comment">-- 不能省略，会报错↓</span></span><br><span class="line"><span class="comment">-- 查询:INSERT INTO grade VALUE (&#x27;大二&#x27;)错误代码：1136</span></span><br><span class="line"><span class="comment">-- Column count doesn`t match value count at row 1</span></span><br><span class="line"><span class="comment">-- 结论:&#x27;字段1,字段2...&#x27;该部分可省略 , 但添加的值务必与表结构,数据列,顺序相对应,且数量一致.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 一次插入多条数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade(gradename) <span class="keyword">VALUES</span> (<span class="string">&#x27;大三&#x27;</span>),(<span class="string">&#x27;大四&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 一次插入多个属性</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span>`student`(`studentno`,`studentname`,`email`,`address`,`phone`) </span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;1003&#x27;</span>,<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;zs123@qq.com&#x27;</span>,<span class="string">&#x27;北京朝阳&#x27;</span>,<span class="string">&#x27;12318237137&#x27;</span>),(<span class="string">&#x27;1004&#x27;</span>,<span class="string">&#x27;mei&#x27;</span>,<span class="string">&#x27;m123@qq.com&#x27;</span>,<span class="string">&#x27;湖南长沙&#x27;</span>,<span class="string">&#x27;12318237137&#x27;</span>);</span><br></pre></td></tr></table></figure>



<h2 id="3-4、修改-update"><a href="#3-4、修改-update" class="headerlink" title="3.4、修改(update)"></a>3.4、修改(update)</h2><p>语法：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> 表名 </span><br><span class="line"><span class="keyword">SET</span> column_name<span class="operator">=</span><span class="string">&#x27;value&#x27;</span> [,column_name2 <span class="operator">=</span> value2,...] <span class="comment">-- 修改的值  trim标签</span></span><br><span class="line">[<span class="keyword">WHERE</span> <span class="keyword">condition</span>]; <span class="comment">-- 条件</span></span><br></pre></td></tr></table></figure>

<p><font color='red'><strong>注意：</strong></font></p>
<ul>
<li>column_name 为需要更改的数据列</li>
<li>value 为修改后的数据</li>
<li>condition 为筛选条件，如果不指定，则修改所有列数据</li>
<li>多个设置的属性之间，用英文逗号隔开</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 修改学员名字，带条件（WHERE）</span></span><br><span class="line"><span class="keyword">UPDATE</span> `student` </span><br><span class="line"><span class="keyword">SET</span> `name` <span class="operator">=</span> <span class="string">&#x27;一条&#x27;</span> </span><br><span class="line"><span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 不带条件，修改所有列数据</span></span><br><span class="line"><span class="keyword">UPDATE</span> `student` </span><br><span class="line"><span class="keyword">SET</span> `gradeid` <span class="operator">=</span> <span class="string">&#x27;3&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改多个属性,用逗号隔开</span></span><br><span class="line"><span class="keyword">UPDATE</span> `student` </span><br><span class="line"><span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;一条&#x27;</span>,`email`<span class="operator">=</span><span class="string">&#x27;2333@qq.com&#x27;</span> </span><br><span class="line"><span class="keyword">WHERE</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- BETWEEN AND 定位某个范围内的数据</span></span><br><span class="line"><span class="keyword">UPDATE</span> `student` </span><br><span class="line"><span class="keyword">SET</span> `name` <span class="operator">=</span> <span class="string">&#x27;两条&#x27;</span> </span><br><span class="line"><span class="keyword">WHERE</span> id <span class="keyword">BETWEEN</span> <span class="number">3</span> <span class="keyword">AND</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- AND 通过多个条件定位数据</span></span><br><span class="line"><span class="keyword">UPDATE</span> `student` </span><br><span class="line"><span class="keyword">SET</span> `name` <span class="operator">=</span> <span class="string">&#x27;and&#x27;</span> </span><br><span class="line"><span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;赵四&#x27;</span> <span class="keyword">AND</span> id <span class="operator">=</span> <span class="number">55</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>where条件子句：</p>
<p>有条件地从表中筛选数据</p>
</blockquote>
<h2 id="3-5、删除-delete"><a href="#3-5、删除-delete" class="headerlink" title="3.5、删除(delete)"></a>3.5、删除(delete)</h2><blockquote>
<p>DELETE命令</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 删除数据（避免使用下面这种方式）</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `student`;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除指定数据</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `student` <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">2</span>;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>TRUNCATE命令</p>
</blockquote>
<p>作用：完全清空一个数据库表，表的结构和索引不会变</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 清空`student`表</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> `student`;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>DELETE 和 TRUNCATE 的区别</p>
</blockquote>
<ul>
<li>相同点：都能删除数据，不会删除表的结构</li>
<li>不同点：<ul>
<li>TRUNCATE 会<u>重新设置自增列</u>，计数器归零</li>
<li>TRUNCATE <u>不会影响事务</u></li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 测试DELETE和TRUNCATE的区别</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `test`(</span><br><span class="line">	`id` <span class="type">INT</span>(<span class="number">5</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">	`coll` <span class="type">VARCHAR</span>(<span class="number">5</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">)ENGINE INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `test`(`coll`) <span class="keyword">VALUES</span>(<span class="string">&#x27;1&#x27;</span>),(<span class="string">&#x27;2&#x27;</span>),(<span class="string">&#x27;3&#x27;</span>); </span><br><span class="line"></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `test`; <span class="comment">-- 不会影响自增</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">TRUNCATE</span> `test`; <span class="comment">-- 自增会归零</span></span><br></pre></td></tr></table></figure>

<p>DELETE删除的问题：重启数据库后的现象（了解即可）</p>
<ul>
<li>InnoDB：自增列会重新从1开始（数据存在内存中，重启后丢失）</li>
<li>MyISAM：自增列继续从上一个自增量开始（数据存在文件中，不会丢失）</li>
</ul>
<h1 id="四、DQL查询数据（最重点）"><a href="#四、DQL查询数据（最重点）" class="headerlink" title="四、DQL查询数据（最重点）"></a>四、DQL查询数据（最重点）</h1><h2 id="4-1、DQL"><a href="#4-1、DQL" class="headerlink" title="4.1、DQL"></a>4.1、DQL</h2><p><strong>DQL( Data Query Language 数据查询语言 )</strong></p>
<ul>
<li>查询数据库数据 , 如<strong>SELECT</strong>语句</li>
<li>简单的单表查询或多表的复杂查询和嵌套查询</li>
<li>是数据库语言中最核心,最重要的语句</li>
<li><font color='red'>使用频率最高的语句</font></li>
</ul>
<blockquote>
<p>SELECT语法</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">ALL</span> <span class="operator">|</span> <span class="keyword">DISTINCT</span>]</span><br><span class="line">&#123;<span class="operator">*</span> <span class="operator">|</span> table.<span class="operator">*</span> <span class="operator">|</span> [table.field1[<span class="keyword">as</span> alias1][,table.field2[<span class="keyword">as</span> alias2]][,...]]&#125;</span><br><span class="line"><span class="keyword">FROM</span> table_name [<span class="keyword">as</span> table_alias]</span><br><span class="line">    [<span class="keyword">left</span> <span class="operator">|</span> <span class="keyword">right</span> <span class="operator">|</span> <span class="keyword">inner</span> <span class="keyword">join</span> table_name2]  <span class="comment">-- 联合查询</span></span><br><span class="line">    [<span class="keyword">WHERE</span> ...]  <span class="comment">-- 指定结果需满足的条件</span></span><br><span class="line">    [<span class="keyword">GROUP</span> <span class="keyword">BY</span> ...]  <span class="comment">-- 指定结果按照哪几个字段来分组</span></span><br><span class="line">    [<span class="keyword">HAVING</span>]  <span class="comment">-- 过滤分组的记录必须满足的次要条件</span></span><br><span class="line">    [<span class="keyword">ORDER</span> <span class="keyword">BY</span> ...]  <span class="comment">-- 指定查询记录按一个或多个条件排序</span></span><br><span class="line">    [LIMIT &#123;[<span class="keyword">offset</span>,]row_count <span class="operator">|</span> row_countOFFSET <span class="keyword">offset</span>&#125;];</span><br><span class="line">    <span class="comment">--  指定查询的记录从哪条至哪条</span></span><br></pre></td></tr></table></figure>

<p><strong>注意 : [ ] 括号代表可选 , { }括号代表必选</strong></p>
<blockquote>
<p>执行顺序：WHERE –&gt; GROUP BY –&gt;  HAVING –&gt; ORDER BY</p>
</blockquote>
<h2 id="4-2、查询指定字段"><a href="#4-2、查询指定字段" class="headerlink" title="4.2、查询指定字段"></a>4.2、查询指定字段</h2><p><strong>语法：SELECT 字段名 FROM 表</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查询全部学生</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `student`;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询指定字段</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno`,`studentname` <span class="keyword">FROM</span> `student`;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 别名，给结果起一个名字 AS （可以给字段/表起别名）</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno` <span class="keyword">AS</span> 学生学号,`studentname` <span class="keyword">AS</span> 学生姓名 <span class="keyword">FROM</span> `student` <span class="keyword">AS</span> s;</span><br><span class="line"><span class="comment">-- 当列名无法“见名知意”时，使用AS为字段、表起名</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 函数 Concat(a,b，c....) 合并多个字符串</span></span><br><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;名字：&#x27;</span>,studentname) <span class="keyword">AS</span> <span class="string">&#x27;新名字&#x27;</span> <span class="keyword">FROM</span> student;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>当列名无法“见名知意”时，使用AS为字段、表起名</p>
</blockquote>
<blockquote>
<p>去重 distinct</p>
</blockquote>
<p>作用：去除SELECT的重复结果，重复数据只显示一条</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 去重distinct</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">result</span>; <span class="comment">-- 查询全部考试成绩</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentno` <span class="keyword">FROM</span> <span class="keyword">result</span>; <span class="comment">-- 查询哪些学生参加考试</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> `studentno` <span class="keyword">FROM</span> <span class="keyword">result</span>;<span class="comment">-- 发现重复数据，去重</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>数据库的列（表达式）</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 数据库的列（表达式）</span></span><br><span class="line"><span class="keyword">SELECT</span> VERSION(); <span class="comment">-- 查询数据库版本（函数）</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">1000</span><span class="number">-7</span> <span class="keyword">AS</span> 计算结果；<span class="comment">-- 用来计算（表达式）</span></span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@auto</span>_increment_increment <span class="comment">-- 查询自增步长（变量）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 学生考试成绩+1分，查看</span></span><br><span class="line"><span class="keyword">SELECT</span> `studentresult`<span class="operator">+</span><span class="number">1</span> <span class="keyword">AS</span> 新成绩 <span class="keyword">FROM</span> <span class="keyword">result</span>;</span><br></pre></td></tr></table></figure>

<p><strong><font color='red'>数据库中的“表达式”：文本值、列、NULL、函数、计算表达式、系统变量…</font></strong></p>
<p>SELECT 表达式 FROM 表</p>
<h2 id="4-3、where条件子句"><a href="#4-3、where条件子句" class="headerlink" title="4.3、where条件子句"></a>4.3、where条件子句</h2><p>作用：用于检索数据表中符合条件的记录</p>
<p>搜索条件可由一个或多个逻辑表达式组成 , 结果为 <strong>布尔值</strong></p>
<blockquote>
<p>逻辑操作符</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 满足条件的查询(where)</span></span><br><span class="line"><span class="keyword">SELECT</span> Studentno,StudentResult <span class="keyword">FROM</span> <span class="keyword">result</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 查询考试成绩在95-100之间的</span></span><br><span class="line"><span class="keyword">SELECT</span> Studentno,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> StudentResult<span class="operator">&gt;=</span><span class="number">95</span> <span class="keyword">AND</span> StudentResult<span class="operator">&lt;=</span><span class="number">100</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- AND也可以写成 &amp;&amp;</span></span><br><span class="line"><span class="keyword">SELECT</span> Studentno,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> StudentResult<span class="operator">&gt;=</span><span class="number">95</span> <span class="operator">&amp;&amp;</span> StudentResult<span class="operator">&lt;=</span><span class="number">100</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 模糊查询(对应的词:精确查询)</span></span><br><span class="line"><span class="keyword">SELECT</span> Studentno,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> StudentResult <span class="keyword">BETWEEN</span> <span class="number">95</span> <span class="keyword">AND</span> <span class="number">100</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 除了1000号同学,要其他同学的成绩</span></span><br><span class="line"><span class="keyword">SELECT</span> studentno,studentresult</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> studentno<span class="operator">!=</span><span class="number">1000</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 使用NOT</span></span><br><span class="line"><span class="keyword">SELECT</span> studentno,studentresult</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> studentno<span class="operator">=</span><span class="number">1000</span>;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>模糊查询</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">-- 模糊查询 between and \ like \ in \ null</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">-- =============================================</span></span><br><span class="line"><span class="comment">-- LIKE</span></span><br><span class="line"><span class="comment">-- =============================================</span></span><br><span class="line"><span class="comment">-- 查询姓刘的同学的学号及姓名</span></span><br><span class="line"><span class="comment">-- like结合使用的通配符 :</span></span><br><span class="line"><span class="comment">-- % :代表0到任意个字符) ;  _ :代表一个字符</span></span><br><span class="line"><span class="keyword">SELECT</span> studentno,studentname <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentname <span class="keyword">LIKE</span> <span class="string">&#x27;刘%&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 查询姓刘的同学,后面只有一个字的</span></span><br><span class="line"><span class="keyword">SELECT</span> studentno,studentname <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentname <span class="keyword">LIKE</span> <span class="string">&#x27;刘_&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 查询姓刘的同学,后面只有两个字的</span></span><br><span class="line"><span class="keyword">SELECT</span> studentno,studentname <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentname <span class="keyword">LIKE</span> <span class="string">&#x27;刘__&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 查询姓名中含有 嘉 字的</span></span><br><span class="line"><span class="keyword">SELECT</span> studentno,studentname <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentname <span class="keyword">LIKE</span> <span class="string">&#x27;%嘉%&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 查询姓名中含有特殊字符的需要使用转义符号 &#x27;\&#x27;</span></span><br><span class="line"><span class="comment">-- 自定义转义符关键字:  ESCAPE &#x27;:&#x27;</span></span><br><span class="line"><span class="comment">-- =============================================</span></span><br><span class="line"><span class="comment">-- IN</span></span><br><span class="line"><span class="comment">-- =============================================</span></span><br><span class="line"><span class="comment">-- 查询学号为1000,1001,1002的学生姓名</span></span><br><span class="line"><span class="keyword">SELECT</span> studentno,studentname <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentno <span class="keyword">IN</span> (<span class="number">1000</span>,<span class="number">1001</span>,<span class="number">1002</span>);</span><br><span class="line"><span class="comment">-- 查询地址在北京,南京,河南洛阳的学生</span></span><br><span class="line"><span class="keyword">SELECT</span> studentno,studentname,address <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> address <span class="keyword">IN</span> (<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;南京&#x27;</span>,<span class="string">&#x27;河南洛阳&#x27;</span>);</span><br><span class="line"><span class="comment">-- =============================================</span></span><br><span class="line"><span class="comment">-- NULL 空</span></span><br><span class="line"><span class="comment">-- =============================================</span></span><br><span class="line"><span class="comment">-- 查询出生日期没有填写的同学</span></span><br><span class="line"><span class="comment">-- 不能直接写=NULL , 这是代表错误的 , 用 is null</span></span><br><span class="line"><span class="keyword">SELECT</span> studentname <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> BornDate <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"><span class="comment">-- 查询出生日期填写的同学</span></span><br><span class="line"><span class="keyword">SELECT</span> studentname <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> BornDate <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br><span class="line"><span class="comment">-- 查询没有写家庭住址的同学(空字符串不等于null)</span></span><br><span class="line"><span class="keyword">SELECT</span> studentname <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> Address<span class="operator">=</span><span class="string">&#x27;&#x27;</span> <span class="keyword">OR</span> Address <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<h2 id="4-4、联表查询"><a href="#4-4、联表查询" class="headerlink" title="4.4、联表查询"></a>4.4、联表查询</h2><blockquote>
<p>Join对比</p>
</blockquote>
<table>
<thead>
<tr>
<th>操作符名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>INNER JOIN</td>
<td>如果表中至少有一个匹配，则返回值</td>
</tr>
<tr>
<td>LEFT JOIN</td>
<td>即使右表中没有匹配，也从左表中返回所有的行</td>
</tr>
<tr>
<td>RIGHT JOIN</td>
<td>即使左表中没有匹配，也从右表中返回所有的行</td>
</tr>
</tbody></table>
<p><strong>思路：</strong></p>
<ol>
<li><p>分析需求，分析查询的字段来自哪些表（多表使用连接查询）</p>
</li>
<li><p>确定使用哪种连接查询？</p>
<p>1）确定交叉点（两个表中哪些数据是相同的）</p>
<p>2）判断的条件：A表中的a &#x3D; B表中的b</p>
</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">连接查询</span></span><br><span class="line"><span class="comment">    如需要多张数据表的数据进行查询,则可通过连接运算符实现多个查询</span></span><br><span class="line"><span class="comment">内连接 inner join</span></span><br><span class="line"><span class="comment">    查询两个表中的结果集中的交集</span></span><br><span class="line"><span class="comment">外连接 outer join</span></span><br><span class="line"><span class="comment">    左外连接 left join</span></span><br><span class="line"><span class="comment">        (以左表作为基准,右边表来一一匹配,匹配不上的,返回左表的记录,右表以NULL填充)</span></span><br><span class="line"><span class="comment">    右外连接 right join</span></span><br><span class="line"><span class="comment">        (以右表作为基准,左边表来一一匹配,匹配不上的,返回右表的记录,左表以NULL填充)</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 查询参加了考试的同学信息(学号,学生姓名,科目编号,分数)</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">result</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*思路:</span></span><br><span class="line"><span class="comment">(1):分析需求,确定查询的列来源于两个类,student  result,连接查询</span></span><br><span class="line"><span class="comment">(2):确定使用哪种连接查询?(内连接)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- join (连接的表) on （判断条件）连接查询</span></span><br><span class="line"><span class="comment">-- where    等值查询</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 内连接</span></span><br><span class="line"><span class="keyword">SELECT</span> s.studentno,studentname,subjectno,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student s <span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"><span class="keyword">ON</span> r.studentno <span class="operator">=</span> s.studentno</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 右连接(也可实现)</span></span><br><span class="line"><span class="keyword">SELECT</span> s.studentno,studentname,subjectno,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student s <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"><span class="keyword">ON</span> r.studentno <span class="operator">=</span> s.studentno</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 等值连接</span></span><br><span class="line"><span class="keyword">SELECT</span> s.studentno,studentname,subjectno,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student s , <span class="keyword">result</span> r</span><br><span class="line"><span class="keyword">WHERE</span> r.studentno <span class="operator">=</span> s.studentno</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 左连接 (查询了所有同学,不考试的也会查出来)</span></span><br><span class="line"><span class="keyword">SELECT</span> s.studentno,studentname,subjectno,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student s <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"><span class="keyword">ON</span> r.studentno <span class="operator">=</span> s.studentno</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 查一下缺考的同学(左连接应用场景)</span></span><br><span class="line"><span class="keyword">SELECT</span> s.studentno,studentname,subjectno,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student s <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"><span class="keyword">ON</span> r.studentno <span class="operator">=</span> s.studentno</span><br><span class="line"><span class="keyword">WHERE</span> StudentResult <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 思考题（查询了参加考试的同学信息：</span></span><br><span class="line"><span class="comment">-- 学号studentno，学生姓名studentname，科目名subjectname，分数studentresult）</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">思路</span></span><br><span class="line"><span class="comment">1.分析需求，分析查询字段来自哪些表，student、result、studentsubject（连接查询）</span></span><br><span class="line"><span class="comment">2.确定使用哪种连接查询？7种</span></span><br><span class="line"><span class="comment">确定交叉点（这两个表钟那个数据是相同的）</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">SELECT</span> s.studentno,studentname,subjectname,studentresult</span><br><span class="line"><span class="keyword">FROM</span> student s</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"><span class="keyword">ON</span> s.studentno <span class="operator">=</span> r.studentno</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub</span><br><span class="line"><span class="keyword">ON</span> sub.subjectno <span class="operator">=</span> r.`studentno`</span><br><span class="line"><span class="comment">-- 要查哪些数据 SELECT...</span></span><br><span class="line"><span class="comment">-- 从哪几个表中查询	FROM 表 XXX JOIN 连接的表 ON 交叉条件</span></span><br><span class="line"><span class="comment">-- 假设存在一种多张表查询，先查询两张，再慢慢增加</span></span><br></pre></td></tr></table></figure>



<p><strong><a target="_blank" rel="noopener" href="https://www.cnblogs.com/xujunkai/p/12491195.html">join查询的7种方法:</a></strong></p>
<ul>
<li><p>内连接：</p>
<p><img src="https://img2020.cnblogs.com/blog/1644171/202003/1644171-20200314113216303-1855558245.png" alt="img"></p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>select_list<span class="operator">&gt;</span> </span><br><span class="line"><span class="keyword">FROM</span> TableA A </span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> TableB B </span><br><span class="line"><span class="keyword">ON</span> A.Key <span class="operator">=</span> B.Key</span><br></pre></td></tr></table></figure>

<ul>
<li><p>左连接：</p>
<p><img src="https://img2020.cnblogs.com/blog/1644171/202003/1644171-20200314113234405-815784414.png" alt="img"></p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>select_list<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">FROM</span> TableA A </span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> TableB B </span><br><span class="line"><span class="keyword">ON</span> A.Key <span class="operator">=</span> B.Key</span><br></pre></td></tr></table></figure>

<ul>
<li><p>右连接：</p>
<p><img src="https://img2020.cnblogs.com/blog/1644171/202003/1644171-20200314113253725-21215708.png" alt="img"></p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>select_list<span class="operator">&gt;</span> </span><br><span class="line"><span class="keyword">FROM</span> TableA A </span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> TableB B </span><br><span class="line"><span class="keyword">ON</span> A.Key <span class="operator">=</span> B.Key</span><br></pre></td></tr></table></figure>

<ul>
<li><p>只有A</p>
<p><img src="https://img2020.cnblogs.com/blog/1644171/202003/1644171-20200314113312810-147549149.png" alt="img"></p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>select_list<span class="operator">&gt;</span> </span><br><span class="line"><span class="keyword">FROM</span> TableA A </span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> TableB B </span><br><span class="line"><span class="keyword">ON</span> A.Key <span class="operator">=</span> B.Key </span><br><span class="line"><span class="keyword">WHERE</span> B.Key <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>只有B</p>
<p><img src="https://img2020.cnblogs.com/blog/1644171/202003/1644171-20200314113326926-809857505.png" alt="img"></p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>select_list<span class="operator">&gt;</span> </span><br><span class="line"><span class="keyword">FROM</span> TableA A </span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> TableB B </span><br><span class="line"><span class="keyword">ON</span> A.Key <span class="operator">=</span> B.Key </span><br><span class="line"><span class="keyword">WHERE</span> A.Key <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>全连接</p>
<p><img src="https://img2020.cnblogs.com/blog/1644171/202003/1644171-20200314113341307-1038369745.png" alt="img"></p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># MySQL没有<span class="keyword">FULL</span> <span class="keyword">OUTER</span>语法。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>select_list<span class="operator">&gt;</span> </span><br><span class="line"><span class="keyword">FROM</span> TableA A </span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> TableB B </span><br><span class="line"><span class="keyword">ON</span> A.Key <span class="operator">=</span> B.Key</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>select_list<span class="operator">&gt;</span> </span><br><span class="line"><span class="keyword">FROM</span> TableA A </span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> TableB B </span><br><span class="line"><span class="keyword">ON</span> A.Key <span class="operator">=</span> B.Key;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>A，B各自独有：</p>
<p><img src="https://img2020.cnblogs.com/blog/1644171/202003/1644171-20200314113354860-664991060.png" alt="img"><br> ​</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># MySQL没有<span class="keyword">FULL</span> <span class="keyword">OUTER</span>语法。</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>select_list<span class="operator">&gt;</span> </span><br><span class="line"><span class="keyword">FROM</span> TableA A </span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> TableB B </span><br><span class="line"><span class="keyword">ON</span> A.Key <span class="operator">=</span> B.Key</span><br><span class="line"><span class="keyword">WHERE</span> B.Key <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>select_list<span class="operator">&gt;</span> </span><br><span class="line"><span class="keyword">FROM</span> TableA A </span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> TableB B </span><br><span class="line"><span class="keyword">ON</span> A.Key <span class="operator">=</span> B.Key </span><br><span class="line"><span class="keyword">WHERE</span> A.Key <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>



<h3 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h3><p>自己的表和自己的表连接。</p>
<p>核心：<strong>一张表拆分为两张表使用</strong></p>
<p>父类：</p>
<table>
<thead>
<tr>
<th>categoryid</th>
<th>categoryName</th>
</tr>
</thead>
<tbody><tr>
<td>2</td>
<td>信息技术</td>
</tr>
<tr>
<td>3</td>
<td>软件开发</td>
</tr>
<tr>
<td>5</td>
<td>美术设计</td>
</tr>
</tbody></table>
<p>子类：</p>
<table>
<thead>
<tr>
<th>pid</th>
<th>categoryid</th>
<th>categoryName</th>
</tr>
</thead>
<tbody><tr>
<td>3</td>
<td>4</td>
<td>数据库</td>
</tr>
<tr>
<td>2</td>
<td>8</td>
<td>办公信息</td>
</tr>
<tr>
<td>3</td>
<td>6</td>
<td>web开发</td>
</tr>
<tr>
<td>5</td>
<td>7</td>
<td>ps技术</td>
</tr>
</tbody></table>
<p>操作：查询<u>父类</u>对应<u>子类</u>的关系</p>
<table>
<thead>
<tr>
<th>父类</th>
<th>子类</th>
</tr>
</thead>
<tbody><tr>
<td>软件开发</td>
<td>数据库</td>
</tr>
<tr>
<td>软件开发</td>
<td>web开发</td>
</tr>
<tr>
<td>信息技术</td>
<td>办公信息</td>
</tr>
<tr>
<td>美术设计</td>
<td>ps技术</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE `category`(</span><br><span class="line">`categoryid` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT&#x27;主题id&#x27;,</span><br><span class="line">`pid` INT(10) NOT NULL COMMENT&#x27;父id&#x27;,</span><br><span class="line">`categoryName` VARCHAR(50) NOT NULL COMMENT &#x27;父类名字&#x27;,</span><br><span class="line">PRIMARY KEY (`categoryid`)</span><br><span class="line">)ENGINE=INNODB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line">INSERT INTO `category` (`categoryid`,`pid`,`categoryName`)</span><br><span class="line">VALUES (&#x27;2&#x27;,&#x27;1&#x27;,&#x27;信息技术&#x27;),</span><br><span class="line">(&#x27;3&#x27;,&#x27;1&#x27;,&#x27;软件开发&#x27;),</span><br><span class="line">(&#x27;4&#x27;,&#x27;3&#x27;,&#x27;数据库&#x27;),</span><br><span class="line">(&#x27;5&#x27;,&#x27;1&#x27;,&#x27;美术设计&#x27;),</span><br><span class="line">(&#x27;6&#x27;,&#x27;3&#x27;,&#x27;web开发&#x27;),</span><br><span class="line">(&#x27;7&#x27;,&#x27;5&#x27;,&#x27;ps技术&#x27;),</span><br><span class="line">(&#x27;8&#x27;,&#x27;2&#x27;,&#x27;办公信息&#x27;);</span><br><span class="line">SELECT * FROM `category`;</span><br><span class="line"></span><br><span class="line">-- 查询父子信息：把一张表当做两张一模一样的表</span><br><span class="line">SELECT a.`categoryName`AS &#x27;父类&#x27;,b.`categoryName`AS &#x27;子类&#x27;</span><br><span class="line">FROM `category` AS a,`category` AS b</span><br><span class="line">WHERE a.`categoryid` = b.`pid`;</span><br></pre></td></tr></table></figure>

<h2 id="嵌套查询和连接查询的效率问题"><a href="#嵌套查询和连接查询的效率问题" class="headerlink" title="*嵌套查询和连接查询的效率问题"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_33955681/article/details/92450563">*嵌套查询和连接查询的效率问题</a></h2><h2 id="4-5、分页和排序"><a href="#4-5、分页和排序" class="headerlink" title="4.5、分页和排序"></a>4.5、分页和排序</h2><h3 id="排序-ORDER-BY"><a href="#排序-ORDER-BY" class="headerlink" title="排序 ORDER BY"></a>排序 ORDER BY</h3><p><strong>语法：ORDER BY (字段名) [DESC]</strong></p>
<p><strong>作用</strong>：用于根据指定的列对结果集进行排序</p>
<p><u>默认按照</u><strong>ASC升序</strong>对记录进行排序。<strong>DESC降序</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- 查询 数据库结构-1 的所有考试结果(学号 学生姓名 科目名称 成绩)</span><br><span class="line">-- 按成绩降序排序</span><br><span class="line">SELECT s.studentno,studentname,subjectname,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN result r</span><br><span class="line">ON r.studentno = s.studentno</span><br><span class="line">INNER JOIN `subject` sub</span><br><span class="line">ON r.subjectno = sub.subjectno</span><br><span class="line">WHERE subjectname=&#x27;数据库结构-1&#x27;</span><br><span class="line">ORDER BY StudentResult DESC</span><br></pre></td></tr></table></figure>

<h3 id="分页-LIMIT"><a href="#分页-LIMIT" class="headerlink" title="分页 LIMIT"></a>分页 LIMIT</h3><p><strong>语法 ：LIMIT pageNo, pageSize（起始索引，查询条目数）</strong></p>
<p>起始索引从 0 开始；</p>
<p>起始索引 &#x3D; （当前页码-1）*每页显示的条数</p>
<p><img src="C:\Users\Mercury\AppData\Roaming\Typora\typora-user-images\image-20211212114651253.png" alt="image-20211212114651253"></p>
<p>好处 ：（用户体验:分页，网络传输，查询压力）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- 每页显示5条数据</span><br><span class="line">SELECT s.studentno,studentname,subjectname,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN result r</span><br><span class="line">ON r.studentno = s.studentno</span><br><span class="line">INNER JOIN `subject` sub</span><br><span class="line">ON r.subjectno = sub.subjectno</span><br><span class="line">WHERE subjectname=&#x27;数据库结构-1&#x27;</span><br><span class="line">ORDER BY StudentResult DESC , studentno</span><br><span class="line">LIMIT 0,5;</span><br><span class="line"> </span><br><span class="line">-- 查询 JAVA第一学年 课程成绩前10名并且分数大于80的学生信息(学号,姓名,课程名,分数)</span><br><span class="line">SELECT s.studentno,studentname,subjectname,StudentResult</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN result r</span><br><span class="line">ON r.studentno = s.studentno</span><br><span class="line">INNER JOIN `subject` sub</span><br><span class="line">ON r.subjectno = sub.subjectno</span><br><span class="line">WHERE subjectname=&#x27;JAVA第一学年&#x27;</span><br><span class="line">ORDER BY StudentResult DESC</span><br><span class="line">LIMIT 0,10</span><br></pre></td></tr></table></figure>

<p><strong>例子：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- 1.从0开始查询，查询3条数据</span><br><span class="line">select * from stu limit 0,3;</span><br><span class="line">-- 2.每页显示3条数据，查询第1页数据</span><br><span class="line">select * from stu limit 0,3;</span><br><span class="line">-- 3.每页显示3条数据，查询第2页数据</span><br><span class="line">select * from stu limit 1,3;</span><br><span class="line">-- 4.每页显示3条数据，查询第3页数据</span><br><span class="line">select * from stu limit 2,6;</span><br></pre></td></tr></table></figure>





<h2 id="4-6、子查询（派生表）"><a href="#4-6、子查询（派生表）" class="headerlink" title="4.6、子查询（派生表）"></a>4.6、子查询（派生表）</h2><p>在查询语句中的<u>WHERE条件子句中</u>，又<u>嵌套了另一个查询语句</u>；</p>
<p>嵌套查询可由多个子查询组成，求解的方式是<strong>由里及外</strong>；</p>
<p>子查询返回的结果一般都是集合，故而建议使用IN关键字；</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- 方法二:使用子查询(执行顺序:由里及外)</span><br><span class="line">SELECT studentno,subjectno,StudentResult</span><br><span class="line">FROM result</span><br><span class="line">WHERE subjectno=(</span><br><span class="line">    SELECT subjectno FROM `subject`</span><br><span class="line">    WHERE subjectname = &#x27;数据库结构-1&#x27;</span><br><span class="line">)</span><br><span class="line">ORDER BY studentresult DESC; -- 排序</span><br></pre></td></tr></table></figure>

<p><strong>eg:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- 查询课程为 高等数学-2 且分数不小于80分的学生的学号和姓名</span><br><span class="line">-- 方法一:使用连接查询</span><br><span class="line">SELECT s.studentno,studentname</span><br><span class="line">FROM student s</span><br><span class="line">INNER JOIN result r</span><br><span class="line">ON s.`StudentNo` = r.`StudentNo`</span><br><span class="line">INNER JOIN `subject` sub</span><br><span class="line">ON sub.`SubjectNo` = r.`SubjectNo`</span><br><span class="line">WHERE subjectname = &#x27;高等数学-2&#x27; AND StudentResult&gt;=80</span><br><span class="line"> </span><br><span class="line">-- 方法二:使用连接查询+子查询</span><br><span class="line">-- 分数不小于80分的学生的学号和姓名</span><br><span class="line">SELECT r.studentno,studentname FROM student s</span><br><span class="line">INNER JOIN result r ON s.`StudentNo`=r.`StudentNo`</span><br><span class="line">WHERE StudentResult&gt;=80</span><br><span class="line"> </span><br><span class="line">-- 在上面SQL基础上,添加需求:课程为 高等数学-2</span><br><span class="line">SELECT r.studentno,studentname FROM student s</span><br><span class="line">INNER JOIN result r ON s.`StudentNo`=r.`StudentNo`</span><br><span class="line">WHERE StudentResult&gt;=80 AND subjectno=(</span><br><span class="line">    SELECT subjectno FROM `subject`</span><br><span class="line">    WHERE subjectname = &#x27;高等数学-2&#x27;</span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line">-- 方法三:使用子查询</span><br><span class="line">-- 分步写简单sql语句,然后将其嵌套起来</span><br><span class="line">SELECT studentno,studentname FROM student WHERE studentno IN(</span><br><span class="line">    SELECT studentno FROM result WHERE StudentResult&gt;=80 AND subjectno=(</span><br><span class="line">        SELECT subjectno FROM `subject` WHERE subjectname = &#x27;高等数学-2&#x27;</span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="4-7、分组过滤"><a href="#4-7、分组过滤" class="headerlink" title="4.7、分组过滤"></a>4.7、分组过滤</h2><p>语法：HAVING 条件（用法和WHERE一样，并且能使用<u>聚合函数</u>）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- 查询不同课程的平均分,最高分,最低分</span><br><span class="line">-- 前提:根据不同的课程进行分组</span><br><span class="line"></span><br><span class="line">SELECT subjectname,AVG(studentresult) AS 平均分,MAX(StudentResult) AS 最高分,MIN(StudentResult) AS 最低分</span><br><span class="line">FROM result AS r</span><br><span class="line">INNER JOIN `subject` AS s</span><br><span class="line">ON r.subjectno = s.subjectno</span><br><span class="line">GROUP BY r.subjectno</span><br><span class="line">HAVING 平均分&gt;80;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">where写在group by前面.</span><br><span class="line">要是放在分组后面的筛选</span><br><span class="line">要使用HAVING..</span><br><span class="line">因为having是从前面筛选的字段再筛选，而where是从数据表中的字段直接进行的筛选的</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>

<p><strong>WHERE和HAVING的区别：</strong></p>
<ul>
<li><strong>“Where” 是一个约束声明</strong>，使用Where来约束来之<a target="_blank" rel="noopener" href="http://lib.csdn.net/base/mysql">数据库</a>的数据，Where是在结果返回之前起作用的，且Where中<strong>不能使用聚合</strong>函数。</li>
<li><strong>“Having”是一个过滤声明</strong>，是在查询返回结果集以后对查询结果进行的过滤操作，在Having中<strong>可以使用聚合函数。</strong></li>
</ul>
<blockquote>
<p>HAVING只能配合GROUP BY使用</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[GROUP BY ...]  -- 指定结果按照哪几个字段来分组</span><br><span class="line">[HAVING]  -- 过滤分组的记录必须满足的次要条件</span><br></pre></td></tr></table></figure>
<h1 id="五、MySQL函数"><a href="#五、MySQL函数" class="headerlink" title="五、MySQL函数"></a>五、MySQL函数</h1><h2 id="5-1、常用函数"><a href="#5-1、常用函数" class="headerlink" title="5.1、常用函数"></a>5.1、常用函数</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT ABS(-8);  /*绝对值*/</span><br><span class="line">-- 8</span><br><span class="line">SELECT CEILING(9.4); /*向上取整*/</span><br><span class="line">-- 10</span><br><span class="line">SELECT FLOOR(9.4);   /*向下取整*/</span><br><span class="line">-- 9</span><br><span class="line">SELECT RAND();  /*随机数,返回一个0-1之间的随机数*/</span><br><span class="line">-- 0.3626625960345032</span><br><span class="line">SELECT SIGN(-8); /*符号函数: 负数返回-1,正数返回1,0返回0*/</span><br><span class="line">-- -1</span><br></pre></td></tr></table></figure>

<h2 id="5-2、字符串函数"><a href="#5-2、字符串函数" class="headerlink" title="5.2、字符串函数"></a>5.2、字符串函数</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT CHAR_LENGTH(&#x27;狂神说坚持就能成功&#x27;); /*返回字符串包含的字符数*/</span><br><span class="line"></span><br><span class="line">SELECT CONCAT(&#x27;我&#x27;,&#x27;爱&#x27;,&#x27;程序&#x27;);  /*合并字符串,参数可以有多个*/</span><br><span class="line"></span><br><span class="line">SELECT INSERT(&#x27;我爱编程helloworld&#x27;,1,2,&#x27;超级热爱&#x27;);  /*替换字符串,从某个位置开始替换某个长度*/</span><br><span class="line"></span><br><span class="line">SELECT LOWER(&#x27;KuangShen&#x27;); /*小写*/</span><br><span class="line"></span><br><span class="line">SELECT UPPER(&#x27;KuangShen&#x27;); /*大写*/</span><br><span class="line"></span><br><span class="line">SELECT LEFT(&#x27;hello,world&#x27;,5);   /*从左边截取*/</span><br><span class="line"></span><br><span class="line">SELECT RIGHT(&#x27;hello,world&#x27;,5);  /*从右边截取*/</span><br><span class="line"></span><br><span class="line">SELECT REPLACE(&#x27;狂神说坚持就能成功&#x27;,&#x27;坚持&#x27;,&#x27;努力&#x27;);  /*替换字符串*/</span><br><span class="line"></span><br><span class="line">SELECT SUBSTR(&#x27;狂神说坚持就能成功&#x27;,4,6); /*截取字符串,开始和长度*/</span><br><span class="line"></span><br><span class="line">SELECT REVERSE(&#x27;狂神说坚持就能成功&#x27;); /*反转</span><br><span class="line"></span><br><span class="line">-- 查询姓周的同学,改成邹</span><br><span class="line">SELECT REPLACE(studentname,&#x27;周&#x27;,&#x27;邹&#x27;) AS 新名字</span><br><span class="line">FROM student WHERE studentname LIKE &#x27;周%&#x27;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- 时间和日期函数（记住）</span><br><span class="line">SELECT CURRENT_DATE() -- 获取当前日期</span><br><span class="line">SELECT CURDATE()      -- 获取当前日期</span><br><span class="line">SELECT NOW() -- 获取当前时间</span><br><span class="line">SELECT LOCALTIME() -- 获取本地时间</span><br><span class="line">SELECT SYSDATE() -- 系统时间</span><br><span class="line"></span><br><span class="line">SELECT YEAR(NOW())</span><br><span class="line">SELECT MONTH(NOW())</span><br><span class="line">SELECT DAY(NOW())</span><br><span class="line">SELECT HOUR(LOCALTIME())</span><br><span class="line">SELECT MINUTE(SYSDATE())</span><br><span class="line">SELECT SECOND(NOW())</span><br><span class="line"></span><br><span class="line">-- 系统</span><br><span class="line">SELECT SYSTEM_USER() -- 系统用户</span><br><span class="line">SELECT USER()</span><br><span class="line">SELECT VERSION() -- 系统版本</span><br></pre></td></tr></table></figure>

<h3 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h3><table>
<thead>
<tr>
<th>函数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>COUNT()</td>
<td>返回满足Select条件的<strong>记录总数</strong>，如 select count(*) 【不建议使用 *，效率低】</td>
</tr>
<tr>
<td>SUM()</td>
<td>返回数字字段或表达式列作统计，返回一列的<strong>总和</strong>。</td>
</tr>
<tr>
<td>AVG()</td>
<td>通常为数值字段或表达列作统计，返回一列的<strong>平均值</strong></td>
</tr>
<tr>
<td>MAX()</td>
<td>可以为数值字段，字符字段或表达式列作统计，返回<strong>最大的值</strong>。</td>
</tr>
<tr>
<td>MIN()</td>
<td>可以为数值字段，字符字段或表达式列作统计，返回<strong>最小的值</strong>。</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- 聚合函数</span><br><span class="line">/*COUNT:非空的*/</span><br><span class="line">SELECT COUNT(studentname) FROM student;</span><br><span class="line">SELECT COUNT(*) FROM student;</span><br><span class="line">SELECT COUNT(1) FROM student;  /*推荐*/</span><br><span class="line"></span><br><span class="line">-- 从含义上讲，count(1) 与 count(*) 都表示对全部数据行的查询。</span><br><span class="line">-- count(字段) 会统计该字段在表中出现的次数，忽略字段为null 的情况。即不统计字段为null 的记录。</span><br><span class="line">-- count(*) 包括了所有的列，相当于行数，在统计结果的时候，包含字段为null 的记录；</span><br><span class="line">-- count(1) 用1代表代码行，在统计结果的时候，包含字段为null 的记录 。</span><br><span class="line">/*</span><br><span class="line">很多人认为count(1)执行的效率会比count(*)高，原因是count(*)会存在全表扫描，而count(1)可以针对一个字段进行查询。其实不然，count(1)和count(*)都会对全表进行扫描，统计所有记录的条数，包括那些为null的记录，因此，它们的效率可以说是相差无几。而count(字段)则与前两者不同，它会统计该字段不为null的记录条数。</span><br><span class="line"></span><br><span class="line">下面它们之间的一些对比：</span><br><span class="line"></span><br><span class="line">1）在表没有主键时，count(1)比count(*)快</span><br><span class="line">2）有主键时，主键作为计算条件，count(主键)效率最高；</span><br><span class="line">3）若表格只有一个字段，则count(*)效率较高。</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">SELECT SUM(StudentResult) AS 总和 FROM result;</span><br><span class="line">SELECT AVG(StudentResult) AS 平均分 FROM result;</span><br><span class="line">SELECT MAX(StudentResult) AS 最高分 FROM result;</span><br></pre></td></tr></table></figure>

<h2 id="5-3、数据库级别的MD5加密（扩展）"><a href="#5-3、数据库级别的MD5加密（扩展）" class="headerlink" title="5.3、数据库级别的MD5加密（扩展）"></a>5.3、数据库级别的MD5加密（扩展）</h2><p><strong>MD5消息摘要算法</strong>（英语：MD5 Message-Digest Algorithm），一种被广泛使用的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A2%BC%E9%9B%9C%E6%B9%8A%E5%87%BD%E6%95%B8">密码散列函数</a>，可以产生出一个128位（16个字符(BYTES)）的散列值（hash value），用于确保信息传输完整一致。MD5由美国密码学家<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%BD%97%E7%BA%B3%E5%BE%B7%C2%B7%E6%9D%8E%E7%BB%B4%E6%96%AF%E7%89%B9">罗纳德·李维斯特</a>（Ronald Linn Rivest）设计，于1992年公开，用以取代<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/MD4">MD4</a>算法。这套算法的程序在 <a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc1321">RFC 1321</a> 中被加以规范。</p>
<p>将<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE">数据</a>（如一段文字）运算变为另一固定长度值，是散列算法的基础原理。</p>
<p>1996年后被证实存在弱点，可以被加以<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%A0%B4%E8%A7%A3">破解</a>，对于需要高度安全性的资料，专家一般建议改用其他算法，如<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/SHA-2">SHA-2</a>。2004年，证实MD5算法无法防止<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=%E7%A2%B0%E6%92%9E%E6%94%BB%E5%87%BB&action=edit&redlink=1">碰撞攻击</a>，因此不适用于安全性认证，如<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/SSL">SSL</a><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%85%AC%E9%96%8B%E9%87%91%E9%91%B0%E8%AA%8D%E8%AD%89">公开密钥认证</a>或是<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%95%B8%E4%BD%8D%E7%B0%BD%E7%AB%A0">数字签名</a>等用途。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  -- =============== 测试MD5 ===================</span><br><span class="line">CREATE TABLE `testMD5`(</span><br><span class="line"> `id` INT(20) NOT NULL AUTO_INCREMENT,</span><br><span class="line"> `name` VARCHAR(20) NOT NULL,</span><br><span class="line"> `pwd` VARCHAR(50) NOT NULL,</span><br><span class="line"> PRIMARY KEY (`id`)</span><br><span class="line">)ENGINE = INNODB DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line">-- 明文密码</span><br><span class="line">INSERT `testMD5` VALUES(1,&#x27;xiaoming&#x27;,&#x27;123456&#x27;),(2,&#x27;zhangsan&#x27;,&#x27;123456&#x27;),(3,&#x27;chuanshanjia&#x27;,&#x27;123456&#x27;);</span><br><span class="line"></span><br><span class="line">-- MD5加密</span><br><span class="line">UPDATE `testMD5` SET `pwd`=MD5(`pwd`) WHERE `id`=1;</span><br><span class="line">UPDATE `testMD5` SET `pwd`=MD5(MD5(`pwd`)) WHERE `id`!=1;</span><br></pre></td></tr></table></figure>



<h1 id="六、事务"><a href="#六、事务" class="headerlink" title="六、事务"></a>六、事务</h1><p><strong>事务</strong>:</p>
<p>事务就是将一组SQL语句放在同一批次内去执行</p>
<p>如果一个SQL语句出错,则该批次内的所有SQL都将被取消执行</p>
<p>MySQL事务处理只支持InnoDB和BDB数据表类型</p>
<h2 id="6-1、事务的ACID原则"><a href="#6-1、事务的ACID原则" class="headerlink" title="6.1、事务的ACID原则"></a>6.1、事务的ACID原则</h2><ul>
<li><p><strong>原子性(Atomic)</strong></p>
<p><u>整个事务中的所有操作，要么全部完成，要么全部不完成，不可能停滞在中间某个环节</u>。</p>
<p>事务在执行过程中发生错误，会被回滚（ROLLBACK）到事务开始前的状态，就像这个事务从来没有执行过一样。</p>
</li>
<li><p><strong>一致性(Consist)</strong></p>
<p>一个事务可以封装状态改变（除非它是一个只读的）。<u>事务必须始终保持系统处于一致的状态，不管在任何给定的时间并发事务有多少。</u></p>
<p>eg：如果事务是并发多个，系统也必须如同串行事务一样操作。其主要特征是保护性和不变性(Preserving an Invariant)，以转账案例为例，假设有五个账户，每个账户余额是100元，那么五个账户总额是500元，如果在这个5个账户之间同时发生多个转账，无论并发多少个，比如在A与B账户之间转账5元，在C与D账户之间转账10元，在B与E之间转账15元，五个账户总额也应该还是500元，这就是保护性和不变性。</p>
</li>
<li><p><strong>隔离性(Isolated)</strong></p>
<p><u>隔离状态执行事务，使它们好像是系统在给定时间内执行的唯一操作。</u></p>
<p>如果有两个事务，运行在相同的时间内，执行相同的功能，事务的隔离性将确保每一事务在系统中认为只有该事务在使用系统。这种属性有时称为<u>串行化</u>，为了防止事务操作间的混淆，必须串行化或序列化请求，使得在同一时间仅有一个请求用于同一数据。</p>
</li>
<li><p><strong>持久性(Durable)</strong></p>
<p><u>在事务完成以后，该事务对数据库所作的更改便持久的保存在数据库之中，并不会被回滚。</u></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- ============== 事务 ===============</span><br><span class="line">-- 使用set语句来改变自动提交模式</span><br><span class="line">SET autocommit = 0;   /*关闭*/</span><br><span class="line">SET autocommit = 1;   /*开启（默认）*/</span><br><span class="line">-- 注意:</span><br><span class="line">--  1.MySQL中默认是自动提交 </span><br><span class="line">--  2.使用事务时应先关闭自动提交</span><br><span class="line"> </span><br><span class="line">-- 事务开启</span><br><span class="line">START TRANSACTION -- 这之后的sql都在同一个事务之内</span><br><span class="line"> </span><br><span class="line">-- 提交：持久化（事务提交成功）</span><br><span class="line">COMMIT</span><br><span class="line"> </span><br><span class="line">-- 回滚：回到初始状态（事务提交失败）</span><br><span class="line">ROLLBACK</span><br><span class="line"> </span><br><span class="line">-- 事务结束</span><br><span class="line">SET autocommit =1; -- 开启自动提交</span><br><span class="line"> </span><br><span class="line">-- 保存点</span><br><span class="line">SAVEPOINT 保存点名称 -- 设置一个事务保存点</span><br><span class="line">ROLLBACK TO SAVEPOINT 保存点名称 -- 回滚到保存点</span><br><span class="line">RELEASE SAVEPOINT 保存点名称 -- 删除保存点</span><br></pre></td></tr></table></figure>

<blockquote>
<p>课堂测试题目</p>
<p>A在线买一款价格为500元商品,网上银行转账.</p>
<p>A的银行卡余额为2000,然后给商家B支付500.</p>
<p>商家B一开始的银行卡余额为10000</p>
<p>创建数据库shop和创建表account并插入2条数据</p>
</blockquote>
<h2 id="6-2、事务的隔离级别（了解）"><a href="#6-2、事务的隔离级别（了解）" class="headerlink" title="6.2、事务的隔离级别（了解）"></a>6.2、事务的隔离级别（了解）</h2><p><img src="C:\Users\Mercury\AppData\Roaming\Typora\typora-user-images\image-20211212163734863.png" alt="image-20211212163734863"></p>
<h1 id="七、索引"><a href="#七、索引" class="headerlink" title="七、索引"></a>七、索引</h1><h2 id="MySQL索引背后的数据结构及算法原理"><a href="#MySQL索引背后的数据结构及算法原理" class="headerlink" title="MySQL索引背后的数据结构及算法原理"></a><a target="_blank" rel="noopener" href="http://blog.codinglabs.org/articles/theory-of-mysql-index.html">MySQL索引背后的数据结构及算法原理</a></h2><blockquote>
<p>MySQL官方对索引的定义为：<strong>索引（Index）是帮助MySQL高效获取数据的数据结构。</strong></p>
<p>提取句子主干，就可以得到<strong>索引的本质：</strong>索引是<strong>数据结构</strong>。</p>
</blockquote>
<h2 id="7-1、索引的分类"><a href="#7-1、索引的分类" class="headerlink" title="7.1、索引的分类"></a>7.1、索引的分类</h2><ul>
<li><p>主键索引 (<strong>Primary Key</strong>)</p>
<ul>
<li>主键：某一个属性组能唯一标识一条记录</li>
<li>特点 :<ul>
<li>最常见的索引类型</li>
<li>确保数据记录的唯一性</li>
<li>确定特定数据记录在数据库中的位置</li>
</ul>
</li>
</ul>
</li>
<li><p>唯一索引 (<strong>Unique</strong>)</p>
<ul>
<li><p>避免同一个表中某数据列中的值重复</p>
</li>
<li><p>与主键索引的区别：</p>
<ul>
<li>主键索引只能有一个</li>
<li>唯一索引<u>可能有多个</u></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE `Grade`(</span><br><span class="line">    `GradeID` INT(11) AUTO_INCREMENT PRIMARYKEY,</span><br><span class="line">    `GradeName` VARCHAR(32) NOT NULL UNIQUE</span><br><span class="line">    -- 或 UNIQUE KEY `GradeID` (`GradeID`)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>常规索引 (<strong>Index、key</strong>)</p>
<ul>
<li><p>默认的索引，用于快速定位特定数据</p>
</li>
<li><p>注意：</p>
<ul>
<li>index和key关键字都可以设置常规索引</li>
<li>应加载查询条件的字段</li>
<li>不宜添加太多常规索引，影响数据的插入、删除和修改操作</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE `result`(</span><br><span class="line">    -- 省略一些代码</span><br><span class="line">    INDEX `ind` (`studentNo`,`subjectNo`) -- 创建表时添加</span><br><span class="line">    -- 或者</span><br><span class="line">    KEY `ind` (`studentNo`,`subjectNo`)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- 创建后添加</span><br><span class="line">ALTER TABLE `result` ADD INDEX `ind`(`studentNo`,`subjectNo`);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>全文索引 (<strong>FullText</strong>)</p>
<ul>
<li><p>只能用于CHAR , VARCHAR , TEXT数据列类型</p>
</li>
<li><p>适合<strong>大型数据集</strong></p>
</li>
<li><p>MySQL <strong>5.6 以前</strong>的版本，只有 MyISAM 存储引擎支持全文索引；<br>MySQL <strong>5.6 及以后</strong>的版本，<strong>MyISAM 和 InnoDB 存储引擎均支持全文索引</strong>;<br>只有字段的数据类型为 char、varchar、text 及其系列才可以建全文索引。<br>测试或使用全文索引时，要先看一下自己的 MySQL 版本、存储引擎和数据类型是否支持全文索引。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/*增加全文索引*/</span><br><span class="line">ALTER TABLE `school`.`student` ADD FULLTEXT INDEX `studentname` (`StudentName`);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="添加索引的三种方法"><a href="#添加索引的三种方法" class="headerlink" title="添加索引的三种方法"></a>添加索引的三种方法</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/*</span><br><span class="line">#方法一：创建表时</span><br><span class="line">    　　CREATE TABLE 表名 (</span><br><span class="line">                字段名1  数据类型 [完整性约束条件…],</span><br><span class="line">                字段名2  数据类型 [完整性约束条件…],</span><br><span class="line">                [UNIQUE | FULLTEXT | SPATIAL ]   INDEX | KEY</span><br><span class="line">                [索引名]  (字段名[(长度)]  [ASC |DESC])</span><br><span class="line">                );</span><br><span class="line">#方法二：CREATE在已存在的表上创建索引</span><br><span class="line">        CREATE  [UNIQUE | FULLTEXT | SPATIAL ]  INDEX  索引名</span><br><span class="line">                     ON 表名 (字段名[(长度)]  [ASC |DESC]) ;</span><br><span class="line">#方法三：ALTER TABLE在已存在的表上创建索引</span><br><span class="line">        ALTER TABLE 表名 ADD  [UNIQUE | FULLTEXT | SPATIAL ] INDEX</span><br><span class="line">                             索引名 (字段名[(长度)]  [ASC |DESC]) ;</span><br><span class="line">                            </span><br><span class="line">                            </span><br><span class="line">#删除索引：DROP INDEX 索引名 ON 表名字;</span><br><span class="line">#删除主键索引: ALTER TABLE 表名 DROP PRIMARY KEY;</span><br><span class="line">#显示索引信息: SHOW INDEX FROM student;</span><br><span class="line">*/</span><br><span class="line"> </span><br><span class="line">/*增加全文索引*/</span><br><span class="line">ALTER TABLE `school`.`student` ADD FULLTEXT INDEX `studentname` (`StudentName`);</span><br><span class="line"> </span><br><span class="line">/*EXPLAIN : 分析SQL语句执行性能*/</span><br><span class="line">EXPLAIN SELECT * FROM student WHERE studentno=&#x27;1000&#x27;;</span><br><span class="line"> </span><br><span class="line">/*使用全文索引*/</span><br><span class="line">-- 全文搜索通过 MATCH() 函数完成。</span><br><span class="line">-- 搜索字符串作为 against() 的参数被给定。搜索以忽略字母大小写的方式执行。对于表中的每个记录行，MATCH() 返回一个相关性值。即，在搜索字符串与记录行在 MATCH() 列表中指定的列的文本之间的相似性尺度。</span><br><span class="line">EXPLAIN SELECT *FROM student WHERE MATCH(studentname) AGAINST(&#x27;love&#x27;);</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h2 id="7-2、测试索引"><a href="#7-2、测试索引" class="headerlink" title="7.2、测试索引"></a>7.2、测试索引</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_33369905/article/details/105911814">批量插入数据100w，索引效率测试</a></p>
<p><font color='red'>索引在小数据量的时候用处不大，处理大数据时效率提升明显</font></p>
<h2 id="7-3、索引原则"><a href="#7-3、索引原则" class="headerlink" title="7.3、索引原则"></a>7.3、索引原则</h2><ul>
<li>索引不是越多越好</li>
<li>不要对经常变动的数据加索引</li>
<li>小数据量的表建议不要加索引</li>
<li>索引一般应加在查找条件的字段</li>
</ul>
<h3 id="索引的数据结构"><a href="#索引的数据结构" class="headerlink" title="索引的数据结构"></a>索引的数据结构</h3><p>– 我们可以在创建上述索引的时候，为其指定索引类型，分两类<br>hash类型的索引：查询单条快，范围查询慢<br>btree类型的索引：b+树，层数越多，数据量指数级增长（我们就用它，因为innodb默认支持它）</p>
<p>– 不同的存储引擎支持的索引类型也不一样<br>InnoDB 支持事务，支持行级别锁定，支持 B-tree、Full-text 等索引，不支持 Hash 索引；<br>MyISAM 不支持事务，支持表级别锁定，支持 B-tree、Full-text 等索引，不支持 Hash 索引；<br>Memory 不支持事务，支持表级别锁定，支持 B-tree、Hash 等索引，不支持 Full-text 索引；<br>NDB 支持事务，支持行级别锁定，支持 Hash 索引，不支持 B-tree、Full-text 等索引；<br>Archive 不支持事务，支持表级别锁定，不支持 B-tree、Hash、Full-text 等索引；</p>
<h1 id="八、权限管理和备份"><a href="#八、权限管理和备份" class="headerlink" title="八、权限管理和备份"></a>八、权限管理和备份</h1><h2 id="8-1、用户管理"><a href="#8-1、用户管理" class="headerlink" title="8.1、用户管理"></a>8.1、用户管理</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 用户和权限管理 */ ------------------</span><br><span class="line">用户信息表：mysql.user</span><br><span class="line"> </span><br><span class="line">-- 刷新权限</span><br><span class="line">FLUSH PRIVILEGES</span><br><span class="line"> </span><br><span class="line">-- 创建用户  CREATE USER kuangshen IDENTIFIED BY &#x27;123456&#x27;</span><br><span class="line">CREATE USER 用户名 IDENTIFIED BY [PASSWORD] 密码(字符串)</span><br><span class="line">    - 必须拥有mysql数据库的全局CREATE USER权限，或拥有INSERT权限。</span><br><span class="line">    - 只能创建用户，不能赋予权限。</span><br><span class="line">    - 用户名，注意引号：如 &#x27;user_name&#x27;@&#x27;192.168.1.1&#x27;</span><br><span class="line">    - 密码也需引号，纯数字密码也要加引号</span><br><span class="line">    - 要在纯文本中指定密码，需忽略PASSWORD关键词。要把密码指定为由PASSWORD()函数返回的混编值，需包含关键字PASSWORD</span><br><span class="line"> </span><br><span class="line">-- 重命名用户  RENAME USER 旧名字 TO 新名字</span><br><span class="line">RENAME USER old_user TO new_user</span><br><span class="line"> </span><br><span class="line">-- 设置密码</span><br><span class="line">SET PASSWORD = PASSWORD(&#x27;密码&#x27;)    -- 为当前用户设置密码</span><br><span class="line">SET PASSWORD FOR 用户名 = PASSWORD(&#x27;密码&#x27;)    -- 为指定用户设置密码</span><br><span class="line"> </span><br><span class="line">-- 删除用户  DROP USER kuangshen2</span><br><span class="line">DROP USER 用户名</span><br><span class="line"> </span><br><span class="line">-- 用户授权 ALL PRIVILEGES 全部的权限， 库.表</span><br><span class="line"> </span><br><span class="line">-- 查看权限   SHOW GRANTS FOR root@localhost;</span><br><span class="line">SHOW GRANTS FOR 用户名</span><br><span class="line"></span><br><span class="line">-- 查看当前用户权限</span><br><span class="line">SHOW GRANTS;</span><br><span class="line">SHOW GRANTS FOR CURRENT_USER; </span><br><span class="line">SHOW GRANTS FOR CURRENT_USER();</span><br><span class="line"> </span><br><span class="line">-- 撤消权限</span><br><span class="line">REVOKE 权限列表 ON 表名 FROM 用户名</span><br><span class="line">REVOKE ALL PRIVILEGES, GRANT OPTION FROM 用户名    -- 撤销所有权限</span><br></pre></td></tr></table></figure>



<h2 id="8-2、MySQL备份"><a href="#8-2、MySQL备份" class="headerlink" title="8.2、MySQL备份"></a>8.2、MySQL备份</h2><p>为什么要备份：</p>
<ul>
<li>保证重要数据不丢失</li>
<li>数据专转移</li>
</ul>
<p>MySQL数据库备份方法</p>
<ul>
<li><p>数据库管理工具,如SQLyog</p>
</li>
<li><p>直接拷贝数据库文件和相关配置文件</p>
</li>
<li><p>使用命令行导出：mysqldump 命令行使用：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 导出</span></span><br><span class="line"><span class="comment"># mysqldump -u用户名 -p密码 库名 表名 &gt; 文件名(D:/a.sql)</span></span><br><span class="line">1. 导出一张表： mysqldump -uroot -p123456 school student &gt;D:/a.sql</span><br><span class="line"></span><br><span class="line"><span class="comment"># mysqldump -u用户名 -p密码 库名 表1 表2 表3 &gt; 文件名(D:/a.sql)</span></span><br><span class="line">2. 导出多张表： mysqldump -uroot -p123456 school student result &gt;D:/a.sql</span><br><span class="line">　　</span><br><span class="line"><span class="comment"># mysqldump -u用户名 -p密码 库名 &gt; 文件名(D:/a.sql)</span></span><br><span class="line">3. 导出所有表： mysqldump -uroot -p123456 school &gt;D:/a.sql</span><br><span class="line"></span><br><span class="line"><span class="comment"># mysqldump -u用户名 -p密码 -B 库名 &gt; 文件名(D:/a.sql)</span></span><br><span class="line">4. 导出一个库： mysqldump -uroot -p123456 -B school &gt;D:/a.sql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以-w携带备份条件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入</span></span><br><span class="line"><span class="comment"># 在登录mysql的情况下：source D:/a.sql</span></span><br><span class="line">　　<span class="built_in">source</span>  备份文件</span><br><span class="line"><span class="comment"># 在不登录的情况下</span></span><br><span class="line">　　mysql -u用户名 -p密码 库名 &lt; 备份文件</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="九、规范数据库设计"><a href="#九、规范数据库设计" class="headerlink" title="九、规范数据库设计"></a>九、规范数据库设计</h1><h2 id="9-1、为什么需要数据库设计："><a href="#9-1、为什么需要数据库设计：" class="headerlink" title="9.1、为什么需要数据库设计："></a>9.1、为什么需要数据库设计：</h2><p>当数据库比较复杂时我们需要设计数据库</p>
<p>糟糕的数据库设计 :</p>
<p>​	数据冗余,存储空间浪费</p>
<p>​	数据更新和插入的异常</p>
<p>​	程序性能差</p>
<p>良好的数据库设计 :</p>
<p>​	节省数据的存储空间</p>
<p>​	能够保证数据的完整性</p>
<p>​	方便进行数据库应用系统的开发</p>
<h2 id="9-2、软件项目开发周期中数据库设计"><a href="#9-2、软件项目开发周期中数据库设计" class="headerlink" title="9.2、软件项目开发周期中数据库设计 :"></a>9.2、软件项目开发周期中数据库设计 :</h2><ol>
<li>需求分析阶段: 分析客户的业务和数据处理需求</li>
<li>概要设计阶段:设计数据库的E-R模型图 , 确认需求信息的正确和完整.</li>
</ol>
<h2 id="9-3、设计数据库步骤"><a href="#9-3、设计数据库步骤" class="headerlink" title="9.3、设计数据库步骤"></a>9.3、设计数据库步骤</h2><ol>
<li>收集信息</li>
</ol>
<p>​	与该系统有关人员进行交流 , 座谈 , 充分了解用户需求 , 理解数据库需要完成的任务.</p>
<ol start="2">
<li>标识实体[Entity]</li>
</ol>
<p>​	标识数据库要管理的关键对象或实体,实体一般是名词</p>
<p>​	标识每个实体需要存储的详细信息[Attribute]</p>
<p>​	标识实体之间的关系[Relationship]</p>
<h2 id="9-4、三大范式"><a href="#9-4、三大范式" class="headerlink" title="9.4、三大范式"></a>9.4、三大范式</h2><p>问题 : 为什么需要数据规范化?</p>
<p>不合规范的表设计会导致的问题：</p>
<p>信息重复<br>更新异常<br>插入异常<br>无法正确表示信息<br>删除异常<br>丢失有效信息三大范式</p>
<p>第一范式 (1st NF)<br>第一范式的目标是确保每列的原子性,如果每列都是不可再分的最小数据单元,则满足第一范式<br>第二范式(2nd NF)<br>第二范式（2NF）是在第一范式（1NF）的基础上建立起来的，即满足第二范式（2NF）必须先满足第一范式（1NF）。<br>第二范式要求每个表只描述一件事情<br>第三范式(3rd NF)<br>如果一个关系满足第二范式,并且除了主键以外的其他列都不传递依赖于主键列,则满足第三范式.<br>第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。<br>规范化和性能的关系<br>为满足某种商业目标 , 数据库性能比规范化数据库更重要<br>在数据规范化的同时 , 要综合考虑数据库的性能<br>通过在给定的表中添加额外的字段,以大量减少需要从中搜索信息所需的时间<br>通过在给定的表中插入计算列,以方便查询</p>
<h1 id="十、JDBC（重点）"><a href="#十、JDBC（重点）" class="headerlink" title="十、JDBC（重点）"></a>十、JDBC（重点）</h1><p><strong>定义：</strong>JDBC就是使用Java语言操作数据库的一套API</p>
<p><strong>使用案例：</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.注册驱动</span></span><br><span class="line">Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line"><span class="comment">//2.获取连接对象</span></span><br><span class="line"><span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://127.0.0.1:3306/db1?useSSL=false&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;1234&quot;</span>;</span><br><span class="line">Connection conn - DriverManager.getConnection(url, username, password);</span><br><span class="line"><span class="comment">//3.定义SQL</span></span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update account set money = 2000 where id = 1&quot;</span>;</span><br><span class="line"><span class="comment">//4.获取执行sql的对象</span></span><br><span class="line"><span class="type">Staement</span> <span class="variable">stmt</span> <span class="operator">=</span> conn.createStatement();</span><br><span class="line"><span class="comment">//5.执行sql</span></span><br><span class="line"><span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> stmt.executeUpdate(sql);</span><br><span class="line"><span class="comment">//6.处理结果</span></span><br><span class="line">System.out.println(count);</span><br><span class="line"><span class="comment">//7.释放资源</span></span><br><span class="line">stmt.close();</span><br><span class="line">conn.close();</span><br></pre></td></tr></table></figure>

<p>。。。</p>
<h1 id="拓展：E-R图"><a href="#拓展：E-R图" class="headerlink" title="拓展：E-R图"></a>拓展：E-R图</h1><p><strong>ER图设计：</strong></p>
<ul>
<li><strong>实体</strong>用<u>矩形</u>表示 eg：User</li>
<li><strong>属性</strong>用<u>椭圆</u>表示 eg：姓名</li>
<li><strong>关系</strong>用<u>菱形</u>表示 eg: 选课<blockquote>
<p>一个实体对应一个表</p>
<p>一个属性对应一个关键字</p>
</blockquote>
</li>
</ul>
<p><img src="https://bkimg.cdn.bcebos.com/pic/9d82d158ccbf6c81eb12262cbc3eb13532fa40c8?x-bce-process=image/watermark,image_d2F0ZXIvYmFpa2U4MA==,g_7,xp_5,yp_5"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">MERCURZY</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/10/30/Mysql%E5%9F%BA%E7%A1%80/">http://example.com/2022/10/30/Mysql基础/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">M3RCUR2Y</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Mysql/">Mysql</a><a class="post-meta__tags" href="/tags/%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0/">自学笔记</a></div><div class="post_share"><div class="social-share" data-image="https://img-blog.csdnimg.cn/img_convert/f5094b78445019abdb82fe7be34dde42.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/11/05/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A101/"><img class="prev-cover" src="https://img-blog.csdnimg.cn/img_convert/a35960982d44f0e7cac10ba248718743.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">网络工程设计01——计算机网络基础</div></div></a></div><div class="next-post pull-right"><a href="/2022/10/28/hello-world/"><img class="next-cover" src="https://img-blog.csdnimg.cn/img_convert/f5094b78445019abdb82fe7be34dde42.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Hello World</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/11/30/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80-html%E4%B8%8Ecss/" title="前端基础-html与css"><img class="cover" src="https://img-blog.csdnimg.cn/img_convert/f5094b78445019abdb82fe7be34dde42.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-30</div><div class="title">前端基础-html与css</div></div></a></div><div><a href="/2022/11/05/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A101/" title="网络工程设计01——计算机网络基础"><img class="cover" src="https://img-blog.csdnimg.cn/img_convert/a35960982d44f0e7cac10ba248718743.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-05</div><div class="title">网络工程设计01——计算机网络基础</div></div></a></div><div><a href="/2022/11/06/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A102/" title="网络工程设计02——ensp基础"><img class="cover" src="https://img-blog.csdnimg.cn/img_convert/a35960982d44f0e7cac10ba248718743.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-06</div><div class="title">网络工程设计02——ensp基础</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://img-blog.csdnimg.cn/img_convert/24c7fae59b92b7310428f816c7bec119.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">MERCURZY</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/M3RCUR2Y"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">图床用的是github，快速访问需要科学上网</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1%E3%80%81%E5%88%9D%E8%AF%86MySQL"><span class="toc-text">1、初识MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">1.1、什么是数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E7%B1%BB"><span class="toc-text">1.2、数据库分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3%E3%80%81MySQL%E7%AE%80%E4%BB%8B"><span class="toc-text">1.3、MySQL简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4%E3%80%81%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">1.4、连接数据库</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2%E3%80%81%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2、操作数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1%E3%80%81%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-text">2.1、操作数据库（了解）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%88%97%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.2、数据库的列类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AD%97%E6%AE%B5%E5%B1%9E%E6%80%A7%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-text">2.3、数据库的字段属性（重点）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4%E3%80%81%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-text">2.4、创建数据库表（重点）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.5数据表的类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6%E3%80%81%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2.6、修改数据库</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81MySQL%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86"><span class="toc-text">三、MySQL数据管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1%E3%80%81%E5%A4%96%E9%94%AE%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-text">3.1、外键（了解）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2%E3%80%81DML%E8%AF%AD%E8%A8%80"><span class="toc-text">3.2、DML语言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3%E3%80%81%E6%B7%BB%E5%8A%A0-insert"><span class="toc-text">3.3、添加(insert)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4%E3%80%81%E4%BF%AE%E6%94%B9-update"><span class="toc-text">3.4、修改(update)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5%E3%80%81%E5%88%A0%E9%99%A4-delete"><span class="toc-text">3.5、删除(delete)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81DQL%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%EF%BC%88%E6%9C%80%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-text">四、DQL查询数据（最重点）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1%E3%80%81DQL"><span class="toc-text">4.1、DQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2%E3%80%81%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5"><span class="toc-text">4.2、查询指定字段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3%E3%80%81where%E6%9D%A1%E4%BB%B6%E5%AD%90%E5%8F%A5"><span class="toc-text">4.3、where条件子句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4%E3%80%81%E8%81%94%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-text">4.4、联表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E8%BF%9E%E6%8E%A5"><span class="toc-text">自连接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2%E5%92%8C%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%95%88%E7%8E%87%E9%97%AE%E9%A2%98"><span class="toc-text">*嵌套查询和连接查询的效率问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5%E3%80%81%E5%88%86%E9%A1%B5%E5%92%8C%E6%8E%92%E5%BA%8F"><span class="toc-text">4.5、分页和排序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F-ORDER-BY"><span class="toc-text">排序 ORDER BY</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E9%A1%B5-LIMIT"><span class="toc-text">分页 LIMIT</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-6%E3%80%81%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%88%E6%B4%BE%E7%94%9F%E8%A1%A8%EF%BC%89"><span class="toc-text">4.6、子查询（派生表）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-7%E3%80%81%E5%88%86%E7%BB%84%E8%BF%87%E6%BB%A4"><span class="toc-text">4.7、分组过滤</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81MySQL%E5%87%BD%E6%95%B0"><span class="toc-text">五、MySQL函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1%E3%80%81%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-text">5.1、常用函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-text">5.2、字符串函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-text">聚合函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BA%A7%E5%88%AB%E7%9A%84MD5%E5%8A%A0%E5%AF%86%EF%BC%88%E6%89%A9%E5%B1%95%EF%BC%89"><span class="toc-text">5.3、数据库级别的MD5加密（扩展）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E4%BA%8B%E5%8A%A1"><span class="toc-text">六、事务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1%E3%80%81%E4%BA%8B%E5%8A%A1%E7%9A%84ACID%E5%8E%9F%E5%88%99"><span class="toc-text">6.1、事务的ACID原则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2%E3%80%81%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-text">6.2、事务的隔离级别（了解）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E7%B4%A2%E5%BC%95"><span class="toc-text">七、索引</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL%E7%B4%A2%E5%BC%95%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86"><span class="toc-text">MySQL索引背后的数据结构及算法原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1%E3%80%81%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">7.1、索引的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%B4%A2%E5%BC%95%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-text">添加索引的三种方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2%E3%80%81%E6%B5%8B%E8%AF%95%E7%B4%A2%E5%BC%95"><span class="toc-text">7.2、测试索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3%E3%80%81%E7%B4%A2%E5%BC%95%E5%8E%9F%E5%88%99"><span class="toc-text">7.3、索引原则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-text">索引的数据结构</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E5%92%8C%E5%A4%87%E4%BB%BD"><span class="toc-text">八、权限管理和备份</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1%E3%80%81%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-text">8.1、用户管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2%E3%80%81MySQL%E5%A4%87%E4%BB%BD"><span class="toc-text">8.2、MySQL备份</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E8%A7%84%E8%8C%83%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-text">九、规范数据库设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#9-1%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%EF%BC%9A"><span class="toc-text">9.1、为什么需要数据库设计：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-2%E3%80%81%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%91%A8%E6%9C%9F%E4%B8%AD%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-text">9.2、软件项目开发周期中数据库设计 :</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-3%E3%80%81%E8%AE%BE%E8%AE%A1%E6%95%B0%E6%8D%AE%E5%BA%93%E6%AD%A5%E9%AA%A4"><span class="toc-text">9.3、设计数据库步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-4%E3%80%81%E4%B8%89%E5%A4%A7%E8%8C%83%E5%BC%8F"><span class="toc-text">9.4、三大范式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E3%80%81JDBC%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-text">十、JDBC（重点）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8B%93%E5%B1%95%EF%BC%9AE-R%E5%9B%BE"><span class="toc-text">拓展：E-R图</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/11/30/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80-html%E4%B8%8Ecss/" title="前端基础-html与css"><img src="https://img-blog.csdnimg.cn/img_convert/f5094b78445019abdb82fe7be34dde42.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端基础-html与css"/></a><div class="content"><a class="title" href="/2022/11/30/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80-html%E4%B8%8Ecss/" title="前端基础-html与css">前端基础-html与css</a><time datetime="2022-11-29T22:50:46.000Z" title="发表于 2022-11-30 06:50:46">2022-11-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/06/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A102/" title="网络工程设计02——ensp基础"><img src="https://img-blog.csdnimg.cn/img_convert/a35960982d44f0e7cac10ba248718743.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="网络工程设计02——ensp基础"/></a><div class="content"><a class="title" href="/2022/11/06/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A102/" title="网络工程设计02——ensp基础">网络工程设计02——ensp基础</a><time datetime="2022-11-06T15:38:11.000Z" title="发表于 2022-11-06 23:38:11">2022-11-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/05/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A101/" title="网络工程设计01——计算机网络基础"><img src="https://img-blog.csdnimg.cn/img_convert/a35960982d44f0e7cac10ba248718743.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="网络工程设计01——计算机网络基础"/></a><div class="content"><a class="title" href="/2022/11/05/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E8%AE%BE%E8%AE%A101/" title="网络工程设计01——计算机网络基础">网络工程设计01——计算机网络基础</a><time datetime="2022-11-04T19:16:05.000Z" title="发表于 2022-11-05 03:16:05">2022-11-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/30/Mysql%E5%9F%BA%E7%A1%80/" title="Mysql基础"><img src="https://img-blog.csdnimg.cn/img_convert/f5094b78445019abdb82fe7be34dde42.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mysql基础"/></a><div class="content"><a class="title" href="/2022/10/30/Mysql%E5%9F%BA%E7%A1%80/" title="Mysql基础">Mysql基础</a><time datetime="2022-10-29T16:47:01.000Z" title="发表于 2022-10-30 00:47:01">2022-10-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/28/hello-world/" title="Hello World"><img src="https://img-blog.csdnimg.cn/img_convert/f5094b78445019abdb82fe7be34dde42.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2022/10/28/hello-world/" title="Hello World">Hello World</a><time datetime="2022-10-28T08:20:19.883Z" title="发表于 2022-10-28 16:20:19">2022-10-28</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://img-blog.csdnimg.cn/img_convert/f5094b78445019abdb82fe7be34dde42.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By MERCURZY</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>